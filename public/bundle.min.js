(()=>{"use strict";var e={615:function(e){var t,n,i,r,s=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!function(e){var i,r,s,o,a={},l={},c={},u={},d=Object.prototype.hasOwnProperty,h=[].slice,f=/\.js$/;function p(e,t){return d.call(e,t)}function m(e,t){var n,i,r,s,o,a,l,u,d,h,p,m=t&&t.split("/"),g=c.map,y=g&&g["*"]||{};if(e){for(o=(e=e.split("/")).length-1,c.nodeIdCompat&&f.test(e[o])&&(e[o]=e[o].replace(f,"")),"."===e[0].charAt(0)&&m&&(e=m.slice(0,m.length-1).concat(e)),d=0;d<e.length;d++)if("."===(p=e[d]))e.splice(d,1),d-=1;else if(".."===p){if(0===d||1===d&&".."===e[2]||".."===e[d-1])continue;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}if((m||y)&&g){for(d=(n=e.split("/")).length;d>0;d-=1){if(i=n.slice(0,d).join("/"),m)for(h=m.length;h>0;h-=1)if((r=g[m.slice(0,h).join("/")])&&(r=r[i])){s=r,a=d;break}if(s)break;!l&&y&&y[i]&&(l=y[i],u=d)}!s&&l&&(s=l,a=u),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function g(t,n){return function(){var i=h.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),r.apply(e,i.concat([t,n]))}}function y(e){return function(t){a[e]=t}}function v(t){if(p(l,t)){var n=l[t];delete l[t],u[t]=!0,i.apply(e,n)}if(!p(a,t)&&!p(u,t))throw new Error("No "+t);return a[t]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return e?w(e):[]}function x(e){return function(){return c&&c.config&&c.config[e]||{}}}s=function(e,t){var n,i,r=w(e),s=r[0],o=t[1];return e=r[1],s&&(n=v(s=m(s,o))),s?e=n&&n.normalize?n.normalize(e,(i=o,function(e){return m(e,i)})):m(e,o):(s=(r=w(e=m(e,o)))[0],e=r[1],s&&(n=v(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:n}},o={require:function(e){return g(e)},exports:function(e){var t=a[e];return void 0!==t?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:x(e)}}},i=function(t,n,i,r){var c,d,h,f,m,w,x,_=[],S=typeof i;if(w=b(r=r||t),"undefined"===S||"function"===S){for(n=!n.length&&i.length?["require","exports","module"]:n,m=0;m<n.length;m+=1)if("require"===(d=(f=s(n[m],w)).f))_[m]=o.require(t);else if("exports"===d)_[m]=o.exports(t),x=!0;else if("module"===d)c=_[m]=o.module(t);else if(p(a,d)||p(l,d)||p(u,d))_[m]=v(d);else{if(!f.p)throw new Error(t+" missing "+d);f.p.load(f.n,g(r,!0),y(d),{}),_[m]=a[d]}h=i?i.apply(a[t],_):void 0,t&&(c&&c.exports!==e&&c.exports!==a[t]?a[t]=c.exports:h===e&&x||(a[t]=h))}else t&&(a[t]=i)},t=r=function(t,n,a,l,u){if("string"==typeof t)return o[t]?o[t](n):v(s(t,b(n)).f);if(!t.splice){if((c=t).deps&&r(c.deps,c.callback),!n)return;n.splice?(t=n,n=a,a=null):t=e}return n=n||function(){},"function"==typeof a&&(a=l,l=u),l?i(e,t,n,a):setTimeout((function(){i(e,t,n,a)}),4),r},r.config=function(e){return r(e)},t._defined=a,(n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),p(a,e)||p(l,e)||(l[e]=[e,t,n])}).amd={jQuery:!0}}(),function(t,i){var r=4294967296,s=9007199254740992,o={encode:function(e){var t,n=new ArrayBuffer(256),o=new DataView(n),a=0;function l(e){for(var i=n.byteLength,r=a+e;i<r;)i<<=1;if(i!==n.byteLength){var s=o;n=new ArrayBuffer(i),o=new DataView(n);for(var l=a+3>>2,c=0;c<l;++c)o.setUint32(c<<2,s.getUint32(c<<2))}return t=e,o}function c(){a+=t}function u(e){c(l(1).setUint8(a,e))}function d(e){for(var t=l(e.length),n=0;n<e.length;++n)t.setUint8(a+n,e[n]);c()}function h(e,t){t<24?u(e<<5|t):t<256?(u(e<<5|24),u(t)):t<65536?(u(e<<5|25),function(e){c(l(2).setUint16(a,e))}(t)):t<4294967296?(u(e<<5|26),function(e){c(l(4).setUint32(a,e))}(t)):(u(e<<5|27),function(e){var t=e%r,n=(e-t)/r,i=l(8);i.setUint32(a,n),i.setUint32(a+4,t),c()}(t))}if(function e(t){var n;if(!1===t)return u(244);if(!0===t)return u(245);if(null===t)return u(246);if(t===i)return u(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=s)return h(0,t);if(-s<=t&&t<0)return h(1,-(t+1))}return u(251),function(e){c(l(8).setFloat64(a,e))}(t);case"string":var r=[];for(n=0;n<t.length;++n){var o=t.charCodeAt(n);o<128?r.push(o):o<2048?(r.push(192|o>>6),r.push(128|63&o)):o<55296?(r.push(224|o>>12),r.push(128|o>>6&63),r.push(128|63&o)):(o=(1023&o)<<10,o|=1023&t.charCodeAt(++n),o+=65536,r.push(240|o>>18),r.push(128|o>>12&63),r.push(128|o>>6&63),r.push(128|63&o))}return h(3,r.length),d(r);default:var f;if(Array.isArray(t))for(h(4,f=t.length),n=0;n<f;++n)e(t[n]);else if(t instanceof Uint8Array)h(2,t.length),d(t);else{var p=Object.keys(t);for(h(5,f=p.length),n=0;n<f;++n){var m=p[n];e(m),e(t[m])}}}}(e),"slice"in n)return n.slice(0,a);for(var f=new ArrayBuffer(a),p=new DataView(f),m=0;m<a;++m)p.setUint8(m,o.getUint8(m));return f},decode:function(e,t,n){var s=new DataView(e),o=0;function a(e,t){return o+=e,t}function l(t){return a(t,new Uint8Array(e,o,t))}function c(){return a(1,s.getUint8(o))}function u(){return a(2,s.getUint16(o))}function d(){return a(4,s.getUint32(o))}function h(){return 255===s.getUint8(o)&&(o+=1,!0)}function f(e){if(e<24)return e;if(24===e)return c();if(25===e)return u();if(26===e)return d();if(27===e)return d()*r+d();if(31===e)return-1;throw"Invalid length encoding"}function p(e){var t=c();if(255===t)return-1;var n=f(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function m(e,t){for(var n=0;n<t;++n){var i=c();128&i&&(i<224?(i=(31&i)<<6|63&c(),t-=1):i<240?(i=(15&i)<<12|(63&c())<<6|63&c(),t-=2):(i=(15&i)<<18|(63&c())<<12|(63&c())<<6|63&c(),t-=3)),i<65536?e.push(i):(i-=65536,e.push(55296|i>>10),e.push(56320|1023&i))}}"function"!=typeof t&&(t=function(e){return e}),"function"!=typeof n&&(n=function(){return i});var g=function e(){var r,d,g=c(),y=g>>5,v=31&g;if(7===y)switch(v){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=u(),i=32768&n,r=31744&n,s=1023&n;if(31744===r)r=261120;else if(0!==r)r+=114688;else if(0!==s)return(i?-1:1)*s*5.960464477539063e-8;return t.setUint32(0,i<<16|r<<13|s<<13),t.getFloat32(0)}();case 26:return a(4,s.getFloat32(o));case 27:return a(8,s.getFloat64(o))}if((d=f(v))<0&&(y<2||6<y))throw"Invalid length";switch(y){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var w=[],b=0;(d=p(y))>=0;)b+=d,w.push(l(d));var x=new Uint8Array(b),_=0;for(r=0;r<w.length;++r)x.set(w[r],_),_+=w[r].length;return x}return l(d);case 3:var S=[];if(d<0)for(;(d=p(y))>=0;)m(S,d);else m(S,d);return String.fromCharCode.apply(null,S);case 4:var C;if(d<0)for(C=[];!h();)C.push(e());else for(C=new Array(d),r=0;r<d;++r)C[r]=e();return C;case 5:var T={};for(r=0;r<d||d<0&&!h();++r)T[e()]=e();return T;case 6:return t(e(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return i;default:return n(d)}}}();if(o!==e.byteLength)throw"Remaining bytes";return g}};"function"==typeof n&&n.amd?n("cbor/cbor",o):e.exports?e.exports=o:t.CBOR||(t.CBOR=o)}(this),function(e){var t,n="File format is not recognized.",i="Error while reading zip file.",r="Error while reading file data.",s=524288,o="text/plain";try{t=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}function a(){this.crc=-1}function l(){}function c(e,t){var n,i;return n=new ArrayBuffer(e),i=new Uint8Array(n),t&&i.set(t,0),{buffer:n,array:i,view:new DataView(n)}}function u(){}function d(e){var t,n=this;n.size=0,n.init=function(i,r){var s=new Blob([e],{type:o});(t=new f(s)).init((function(){n.size=t.size,i()}),r)},n.readUint8Array=function(e,n,i,r){t.readUint8Array(e,n,i,r)}}function h(t){var n,i=this;i.size=0,i.init=function(e){for(var r=t.length;"="==t.charAt(r-1);)r--;n=t.indexOf(",")+1,i.size=Math.floor(.75*(r-n)),e()},i.readUint8Array=function(i,r,s){var o,a=c(r),l=4*Math.floor(i/3),u=4*Math.ceil((i+r)/3),d=e.atob(t.substring(l+n,u+n)),h=i-3*Math.floor(l/4);for(o=h;o<h+r;o++)a.array[o-h]=d.charCodeAt(o);s(a.array)}}function f(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,i,r){var s=new FileReader;s.onload=function(e){i(new Uint8Array(e.target.result))},s.onerror=r;try{s.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(e){r(e)}}}function p(){}function m(e){var n,i=this;i.init=function(e){n=new Blob([],{type:o}),e()},i.writeUint8Array=function(e,i){n=new Blob([n,t?e:e.buffer],{type:o}),i()},i.getData=function(t,i){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=i,r.readAsText(n,e)}}function g(t){var n=this,i="",r="";n.init=function(e){i+="data:"+(t||"")+";base64,",e()},n.writeUint8Array=function(t,n){var s,o=r.length,a=r;for(r="",s=0;s<3*Math.floor((o+t.length)/3)-o;s++)a+=String.fromCharCode(t[s]);for(;s<t.length;s++)r+=String.fromCharCode(t[s]);a.length>2?i+=e.btoa(a):r=a,n()},n.getData=function(t){t(i+e.btoa(r))}}function y(e){var n,i=this;i.init=function(t){n=new Blob([],{type:e}),t()},i.writeUint8Array=function(i,r){n=new Blob([n,t?i:i.buffer],{type:e}),r()},i.getData=function(e){e(n)}}function v(e,t,n,i,r,o,a,l,c,u){var d,h,f,p=0,m=t.sn;function g(){e.removeEventListener("message",y,!1),l(h,f)}function y(t){var n=t.data,r=n.data,s=n.error;if(s)return s.toString=function(){return"Error: "+this.message},void c(s);if(n.sn===m)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":r?(h+=r.length,i.writeUint8Array(r,(function(){v()}),u)):v();break;case"flush":f=n.crc,r?(h+=r.length,i.writeUint8Array(r,(function(){g()}),u)):g();break;case"progress":a&&a(d+n.loaded,o);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function v(){(d=p*s)<=o?n.readUint8Array(r+d,Math.min(s,o-d),(function(n){a&&a(d,o);var i=0===d?t:{sn:m};i.type="append",i.data=n;try{e.postMessage(i,[n.buffer])}catch(t){e.postMessage(i)}p++}),c):e.postMessage({sn:m,type:"flush"})}h=0,e.addEventListener("message",y,!1),v()}function w(e,t,n,i,r,o,l,c,u,d){var h,f=0,p=0,m="input"===o,g="output"===o,y=new a;!function o(){var a;if((h=f*s)<r)t.readUint8Array(i+h,Math.min(s,r-h),(function(t){var i;try{i=e.append(t,(function(e){l&&l(h+e,r)}))}catch(e){return void u(e)}i?(p+=i.length,n.writeUint8Array(i,(function(){f++,setTimeout(o,1)}),d),g&&y.append(i)):(f++,setTimeout(o,1)),m&&y.append(t),l&&l(h,r)}),u);else{try{a=e.flush()}catch(e){return void u(e)}a?(g&&y.append(a),p+=a.length,n.writeUint8Array(a,(function(){c(p,y.get())}),d)):c(p,y.get())}}()}function b(t,n,i,r,s,o,a,c,u,d,h){var f="input";e.zip.useWebWorkers&&a?v(t,{sn:n,codecClass:"NOOP",crcType:f},i,r,s,o,u,c,d,h):w(new l,i,r,s,o,f,u,c,d,h)}function x(e){var t,n,i="",r=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)i+=(n=255&e.charCodeAt(t))>127?r[n-128]:String.fromCharCode(n);return i}function _(e){return decodeURIComponent(escape(e))}function S(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function C(e,t,n,i,r){e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}(e.lastModDateRaw),1&~e.bitFlag?((i||8&~e.bitFlag)&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0)):r("File is using Zip64 (4gb+ file size).")):r("File contains encrypted entry.")}function T(e){return unescape(encodeURIComponent(e))}function E(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function A(t,n,i,s){var o={},a=[],l=0,u=0;function d(e){i(e||"Error while writing zip file.")}function h(e){i(e||r)}var f={add:function(n,r,f,p,m){var g,y,x,_=this._worker;function S(e,n){var i=c(16);l+=e||0,i.view.setUint32(0,1347094280),void 0!==n&&(g.view.setUint32(10,n,!0),i.view.setUint32(4,n,!0)),r&&(i.view.setUint32(8,e,!0),g.view.setUint32(14,e,!0),i.view.setUint32(12,r.size,!0),g.view.setUint32(18,r.size,!0)),t.writeUint8Array(i.array,(function(){l+=16,f()}),d)}function C(){var f;m=m||{},n=n.trim(),m.directory&&"/"!=n.charAt(n.length-1)&&(n+="/"),o.hasOwnProperty(n)?i("File already exists."):(y=E(T(n)),a.push(n),x=m.lastModDate||new Date,g=c(26),o[n]={headerArray:g.array,directory:m.directory,filename:y,offset:l,comment:E(T(m.comment||""))},g.view.setUint32(0,335546376),m.version&&g.view.setUint8(0,m.version),s||0===m.level||m.directory||g.view.setUint16(4,2048),g.view.setUint16(6,(x.getHours()<<6|x.getMinutes())<<5|x.getSeconds()/2,!0),g.view.setUint16(8,(x.getFullYear()-1980<<4|x.getMonth()+1)<<5|x.getDate(),!0),g.view.setUint16(22,y.length,!0),(f=c(30+y.length)).view.setUint32(0,1347093252),f.array.set(g.array,4),f.array.set(y,30),l+=f.array.length,t.writeUint8Array(f.array,(function(){r?s||0===m.level?b(_,u++,r,t,0,r.size,!0,S,p,h,d):function(t,n,i,r,s,o,a,l,c){var u="input";e.zip.useWebWorkers?v(t,{sn:n,options:{level:s},codecClass:"Deflater",crcType:u},i,r,0,i.size,a,o,l,c):w(new e.zip.Deflater,i,r,0,i.size,u,a,o,l,c)}(_,u++,r,t,m.level,S,p,h,d):S()}),d))}r?r.init(C,h):C()},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null);var n,i,r,s=0,u=0;for(i=0;i<a.length;i++)s+=46+(r=o[a[i]]).filename.length+r.comment.length;for(n=c(s+22),i=0;i<a.length;i++)r=o[a[i]],n.view.setUint32(u,1347092738),n.view.setUint16(u+4,5120),n.array.set(r.headerArray,u+6),n.view.setUint16(u+32,r.comment.length,!0),r.directory&&n.view.setUint8(u+38,16),n.view.setUint32(u+42,r.offset,!0),n.array.set(r.filename,u+46),n.array.set(r.comment,u+46+r.filename.length),u+=46+r.filename.length+r.comment.length;n.view.setUint32(u,1347093766),n.view.setUint16(u+8,a.length,!0),n.view.setUint16(u+10,a.length,!0),n.view.setUint32(u+12,s,!0),n.view.setUint32(u+16,l,!0),t.writeUint8Array(n.array,(function(){t.getData(e)}),d)},_worker:null};e.zip.useWebWorkers?I("deflater",(function(e){f._worker=e,n(f)}),(function(e){i(e)})):n(f)}a.prototype.append=function(e){for(var t=0|this.crc,n=this.table,i=0,r=0|e.length;i<r;i++)t=t>>>8^n[255&(t^e[i])];this.crc=t},a.prototype.get=function(){return~this.crc},a.prototype.table=function(){var e,t,n,i=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;i[e]=n}return i}(),l.prototype.append=function(e,t){return e},l.prototype.flush=function(){},d.prototype=new u,d.prototype.constructor=d,h.prototype=new u,h.prototype.constructor=h,f.prototype=new u,f.prototype.constructor=f,p.prototype.getData=function(e){e(this.data)},m.prototype=new p,m.prototype.constructor=m,g.prototype=new p,g.prototype.constructor=g,y.prototype=new p,y.prototype.constructor=y;var k={deflater:["smartphone/z-worker.js","deflate.js"],inflater:["smartphone/z-worker.js","inflate.js"]};function I(t,n,i){if(null===e.zip.workerScripts||null===e.zip.workerScriptsPath){var r,s,o;if(e.zip.workerScripts){if(r=e.zip.workerScripts[t],!Array.isArray(r))return void i(new Error("zip.workerScripts."+t+" is not an array!"));s=r,o=document.createElement("a"),r=s.map((function(e){return o.href=e,o.href}))}else(r=k[t].slice(0))[0]=(e.zip.workerScriptsPath||"")+r[0];var a=new Worker(r[0]);a.codecTime=a.crcTime=0,a.postMessage({type:"importScripts",scripts:r.slice(1)}),a.addEventListener("message",(function e(t){var r=t.data;if(r.error)return a.terminate(),void i(r.error);"importScripts"===r.type&&(a.removeEventListener("message",e),a.removeEventListener("error",l),n(a))})),a.addEventListener("error",l)}else i(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function l(e){a.terminate(),i(e)}}function q(e){console.error(e)}e.zip={Reader:u,Writer:p,BlobReader:f,Data64URIReader:h,TextReader:d,BlobWriter:y,Data64URIWriter:g,TextWriter:m,createReader:function(t,s,o){o=o||q,t.init((function(){!function(t,s,o){var a=0;function l(){}l.prototype.getData=function(i,s,l,u){var d=this;function h(e,t){u&&!function(e){var t=c(4);return t.view.setUint32(0,e),d.crc32==t.view.getUint32(0)}(t)?o("CRC failed."):i.getData((function(e){s(e)}))}function f(e){o(e||r)}function p(e){o(e||"Error while writing file data.")}t.readUint8Array(d.offset,30,(function(r){var s,m=c(r.length,r);1347093252==m.view.getUint32(0)?(C(d,m,4,!1,o),s=d.offset+30+d.filenameLength+d.extraFieldLength,i.init((function(){0===d.compressionMethod?b(d._worker,a++,t,i,s,d.compressedSize,u,h,l,f,p):function(t,n,i,r,s,o,a,l,c,u,d){var h=a?"output":"none";e.zip.useWebWorkers?v(t,{sn:n,codecClass:"Inflater",crcType:h},i,r,s,o,c,l,u,d):w(new e.zip.Inflater,i,r,s,o,h,c,l,u,d)}(d._worker,a++,t,i,s,d.compressedSize,u,h,l,f,p)}),p)):o(n)}),f)};var u={getEntries:function(e){var r=this._worker;!function(e){function r(n,r){t.readUint8Array(t.size-n,n,(function(t){for(var n=t.length-22;n>=0;n--)if(80===t[n]&&75===t[n+1]&&5===t[n+2]&&6===t[n+3])return void e(new DataView(t.buffer,n,22));r()}),(function(){o(i)}))}t.size<22?o(n):r(22,(function(){r(Math.min(65558,t.size),(function(){o(n)}))}))}((function(s){var a,u;a=s.getUint32(16,!0),u=s.getUint16(8,!0),a<0||a>=t.size?o(n):t.readUint8Array(a,t.size-a,(function(t){var i,s,a,d,h=0,f=[],p=c(t.length,t);for(i=0;i<u;i++){if((s=new l)._worker=r,1347092738!=p.view.getUint32(h))return void o(n);C(s,p,h+6,!0,o),s.commentLength=p.view.getUint16(h+32,!0),s.directory=!(16&~p.view.getUint8(h+38)),s.offset=p.view.getUint32(h+42,!0),a=S(p.array.subarray(h+46,h+46+s.filenameLength)),s.filename=2048&~s.bitFlag?x(a):_(a),s.directory||"/"!=s.filename.charAt(s.filename.length-1)||(s.directory=!0),d=S(p.array.subarray(h+46+s.filenameLength+s.extraFieldLength,h+46+s.filenameLength+s.extraFieldLength+s.commentLength)),s.comment=2048&~s.bitFlag?x(d):_(d),f.push(s),h+=46+s.filenameLength+s.extraFieldLength+s.commentLength}e(f)}),(function(){o(i)}))}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};e.zip.useWebWorkers?I("inflater",(function(e){u._worker=e,s(u)}),(function(e){o(e)})):s(u)}(t,s,o)}),o)},createWriter:function(e,t,n,i){n=n||q,i=!!i,e.init((function(){A(e,t,n,i)}),n)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this),i="undefined"!=typeof window?window:this,r=function(e,t){var i=[],r=Object.getPrototypeOf,s=i.slice,o=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},a=i.push,l=i.indexOf,c={},u=c.toString,d=c.hasOwnProperty,h=d.toString,f=h.call(Object),p={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},y=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,s=(n=n||y).createElement("script");if(s.text=e,t)for(i in v)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&s.setAttribute(i,r);n.head.appendChild(s).parentNode.removeChild(s)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var x="3.6.0",_=function(e,t){return new _.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}_.fn=_.prototype={jquery:x,constructor:_,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||m(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&o!==i&&(c&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[t],s=r&&!Array.isArray(n)?[]:r||_.isPlainObject(n)?n:{},r=!1,o[t]=_.extend(c,s,i)):void 0!==i&&(o[t]=i));return o},_.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e)||(t=r(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||h.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(S(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?_.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,s=e.length,o=!n;r<s;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,a=[];if(S(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return o(a)},guid:1,support:p}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=i[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var C=function(e){var t,n,i,r,s,o,a,l,c,u,d,h,f,p,m,g,y,v,w,b="sizzle"+1*new Date,x=e.document,_=0,S=0,C=le(),T=le(),E=le(),A=le(),k=function(e,t){return e===t&&(d=!0),0},I={}.hasOwnProperty,q=[],L=q.pop,M=q.push,P=q.push,D=q.slice,j=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",U=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",H=new RegExp(R+"+","g"),B=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),$=new RegExp("^"+R+"*,"+R+"*"),z=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),W=new RegExp(R+"|>"),V=new RegExp(U),K=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=function(){h()},oe=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(q=D.call(x.childNodes),x.childNodes),q[x.childNodes.length].nodeType}catch(t){P={apply:q.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var s,a,c,u,d,p,y,v=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!r&&(h(t),t=t||f,m)){if(11!==x&&(d=Z.exec(e)))if(s=d[1]){if(9===x){if(!(c=t.getElementById(s)))return i;if(c.id===s)return i.push(c),i}else if(v&&(c=v.getElementById(s))&&w(t,c)&&c.id===s)return i.push(c),i}else{if(d[2])return P.apply(i,t.getElementsByTagName(e)),i;if((s=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(i,t.getElementsByClassName(s)),i}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(y=e,v=t,1===x&&(W.test(e)||z.test(e))){for((v=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,re):t.setAttribute("id",u=b)),a=(p=o(e)).length;a--;)p[a]=(u?"#"+u:":scope")+" "+we(p[a]);y=p.join(",")}try{return P.apply(i,v.querySelectorAll(y)),i}catch(t){A(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[b]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,i){for(var r,s=e([],n.length,t),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},s=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||"HTML")},h=ae.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:x;return o!=f&&9===o.nodeType&&o.documentElement&&(p=(f=o).documentElement,m=!s(f),x!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",se,!1):r.attachEvent&&r.attachEvent("onunload",se)),n.scope=ue((function(e){return p.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(f.getElementsByClassName),n.getById=ue((function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(r=t.getElementsByName(e),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=Q.test(f.querySelectorAll))&&(ue((function(e){var t;p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),y.push("!=",U)})),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Q.test(p.compareDocumentPosition),w=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==f||e.ownerDocument==x&&w(x,e)?-1:t==f||t.ownerDocument==x&&w(x,t)?1:u?j(u,e)-j(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,o=[e],a=[t];if(!r||!s)return e==f?-1:t==f?1:r?-1:s?1:u?j(u,e)-j(u,t):0;if(r===s)return he(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;o[i]===a[i];)i++;return i?he(o[i],a[i]):o[i]==x?-1:a[i]==x?1:0}),f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&m&&!A[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){A(t,!0)}return 0<ae(t,f,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=f&&h(e),w(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=f&&h(e);var r=i.attrHandle[t.toLowerCase()],s=r&&I.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==s?s:n.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,s=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(k),d){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return u=null,e},r=ae.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=ae.selectors={cacheLength:50,createPseudo:ce,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(H," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,w=!1;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&v){for(w=(f=(c=(u=(d=(h=g)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(w=f=0)||p.pop();)if(1===h.nodeType&&++w&&h===t){u[e]=[_,f,w];break}}else if(v&&(w=f=(c=(u=(d=(h=t)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===w)for(;(h=++f&&h&&h[m]||(w=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++w||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[_,w]),h!==t)););return(w-=r)===i||w%i==0&&0<=w/i}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[b]?r(t):1<r.length?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,s=r(e,t),o=s.length;o--;)e[i=j(e,s[o])]=!(n[i]=s[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],i=a(e.replace(B,"$1"));return i[b]?ce((function(e,t,n,r){for(var s,o=i(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<ae(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||r(t)).indexOf(e)}})),lang:ce((function(e){return K.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ve(){}function we(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,r=t.next,s=r||i,o=n&&"parentNode"===s,a=S++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,h=[_,a];if(l){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[s])&&c[0]===_&&c[1]===a)return h[2]=c[2];if((u[s]=h)[2]=e(t,n,l))return!0}return!1}}function xe(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var s,o=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,i,r)||(o.push(s),c&&t.push(a)));return o}function Se(e,t,n,i,r,s){return i&&!i[b]&&(i=Se(i)),r&&!r[b]&&(r=Se(r,s)),ce((function(s,o,a,l){var c,u,d,h=[],f=[],p=o.length,m=s||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:_e(m,h,e,a,l),y=n?r||(s?e:p||i)?[]:o:g;if(n&&n(g,y,a,l),i)for(c=_e(y,f),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(g[f[u]]=d));if(s){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(g[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&-1<(c=r?j(s,d):h[u])&&(s[c]=!(o[c]=d))}}else y=_e(y===o?y.splice(p,y.length):y),r?r(null,o,y,l):P.apply(o,y)}))}function Ce(e){for(var t,n,r,s=e.length,o=i.relative[e[0].type],a=o||i.relative[" "],l=o?1:0,u=be((function(e){return e===t}),a,!0),d=be((function(e){return-1<j(t,e)}),a,!0),h=[function(e,n,i){var r=!o&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<s;l++)if(n=i.relative[e[l].type])h=[be(xe(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<s&&!i.relative[e[r].type];r++);return Se(1<l&&xe(h),1<l&&we(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&Ce(e.slice(l,r)),r<s&&Ce(e=e.slice(r)),r<s&&we(e))}h.push(n)}return xe(h)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,o=ae.tokenize=function(e,t){var n,r,s,o,a,l,c,u=T[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(o in n&&!(r=$.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=G[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):T(e,l).slice(0)},a=ae.compile=function(e,t){var n,r,s,a,l,u,d=[],p=[],g=E[e+" "];if(!g){for(t||(t=o(e)),n=t.length;n--;)(g=Ce(t[n]))[b]?d.push(g):p.push(g);(g=E(e,(r=p,a=0<(s=d).length,l=0<r.length,u=function(e,t,n,o,u){var d,p,g,y=0,v="0",w=e&&[],b=[],x=c,S=e||l&&i.find.TAG("*",u),C=_+=null==x?1:Math.random()||.1,T=S.length;for(u&&(c=t==f||t||u);v!==T&&null!=(d=S[v]);v++){if(l&&d){for(p=0,t||d.ownerDocument==f||(h(d),n=!m);g=r[p++];)if(g(d,t||f,n)){o.push(d);break}u&&(_=C)}a&&((d=!g&&d)&&y--,e&&w.push(d))}if(y+=v,a&&v!==y){for(p=0;g=s[p++];)g(w,b,t,n);if(e){if(0<y)for(;v--;)w[v]||b[v]||(b[v]=L.call(o));b=_e(b)}P.apply(o,b),u&&!e&&0<b.length&&1<y+s.length&&ae.uniqueSort(o)}return u&&(_=C,c=x),w},a?ce(u):u))).selector=e}return g},l=ae.select=function(e,t,n,r){var s,l,c,u,d,h="function"==typeof e&&e,f=!r&&o(e=h.selector||e);if(n=n||[],1===f.length){if(2<(l=f[0]=f[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=G.needsContext.test(e)?0:l.length;s--&&(c=l[s],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ye(t.parentNode)||t))){if(l.splice(s,1),!(e=r.length&&we(l)))return P.apply(n,r),n;break}}return(h||a(e,f))(r,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=b.split("").sort(k).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(N,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ae}(e);_.find=C,_.expr=C.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=C.uniqueSort,_.text=C.getText,_.isXMLDoc=C.isXML,_.contains=C.contains,_.escapeSelector=C.escape;var T=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=_.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function q(e,t,n){return m(t)?_.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?_.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?_.grep(e,(function(e){return-1<l.call(t,e)!==n})):_.filter(t,e,n)}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)_.find(e,r[t],n);return 1<i?_.uniqueSort(n):n},filter:function(e){return this.pushStack(q(this,e||[],!1))},not:function(e){return this.pushStack(q(this,e||[],!0))},is:function(e){return!!q(this,"string"==typeof e&&A.test(e)?_(e):e||[],!1).length}});var L,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:M.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),I.test(i[1])&&_.isPlainObject(t))for(i in t)m(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,L=_(y);var P=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,s=[],o="string"!=typeof e&&_(e);if(!A.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&_.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(1<s.length?_.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?l.call(_(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(n,i){var r=_.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_.filter(i,r)),1<this.length&&(D[e]||_.uniqueSort(r),P.test(e)&&r.reverse()),this.pushStack(r)}}));var N=/[^\x20\t\r\n\f]+/g;function R(e){return e}function F(e){throw e}function O(e,t,n,i){var r;try{e&&m(r=e.promise)?r.call(e).done(t).fail(n):e&&m(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},_.each(t.match(N)||[],(function(e,t){n[t]=!0})),n):_.extend({},e);var i,r,s,o,a=[],l=[],c=-1,u=function(){for(o=o||e.once,s=i=!0;l.length;c=-1)for(r=l.shift();++c<a.length;)!1===a[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=a.length,r=!1);e.memory||(r=!1),i=!1,o&&(a=r?[]:"")},d={add:function(){return a&&(r&&!i&&(c=a.length-1,l.push(r)),function t(n){_.each(n,(function(n,i){m(i)?e.unique&&d.has(i)||a.push(i):i&&i.length&&"string"!==b(i)&&t(i)}))}(arguments),r&&!i&&u()),this},remove:function(){return _.each(arguments,(function(e,t){for(var n;-1<(n=_.inArray(t,a,n));)a.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<_.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return o=l=[],a=r="",this},disabled:function(){return!a},lock:function(){return o=l=[],r||i||(a=r=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},_.extend({Deferred:function(t){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(t){_.each(n,(function(n,i){var r=m(e[i[4]])&&e[i[4]];s[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,r){var s=0;function o(t,n,i,r){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<s)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(c)?r?c.call(e,o(s,n,R,r),o(s,n,F,r)):(s++,c.call(e,o(s,n,R,r),o(s,n,F,r),o(s,n,R,n.notifyWith))):(i!==R&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,u.stackTrace),s<=t+1&&(i!==F&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?u():(_.Deferred.getStackHook&&(u.stackTrace=_.Deferred.getStackHook()),e.setTimeout(u))}}return _.Deferred((function(e){n[0][3].add(o(0,e,m(r)?r:R,e.notifyWith)),n[1][3].add(o(0,e,m(t)?t:R)),n[2][3].add(o(0,e,m(i)?i:F))})).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},s={};return _.each(n,(function(e,t){var o=t[2],a=t[5];r[t[1]]=o.add,a&&o.add((function(){i=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=o.fireWith})),r.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),o=_.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=1<arguments.length?s.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(O(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||m(r[n]&&r[n].then)))return o.then();for(;n--;)O(r[n],a(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout((function(){throw t}))};var H=_.Deferred();function B(){y.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),_.ready()}_.fn.ready=function(e){return H.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0)!==e&&0<--_.readyWait||H.resolveWith(y,[_])}}),_.ready.then=H.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?e.setTimeout(_.ready):(y.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var $=function(e,t,n,i,r,s,o){var a=0,l=e.length,c=null==n;if("object"===b(n))for(a in r=!0,n)$(e,t,a,n[a],!0,s,o);else if(void 0!==i&&(r=!0,m(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;a<l;a++)t(e[a],n,o?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):s},z=/^-ms-/,W=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function K(e){return e.replace(z,"ms-").replace(W,V)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=_.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[K(t)]=n;else for(i in t)r[K(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in i?[t]:t.match(N)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||_.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var J=new X,Y=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Q.test(r)?JSON.parse(r):r)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return Y.hasData(e)||J.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=Y.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=K(i.slice(5)),ee(s,i,r[i]));J.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Y.set(this,e)})):$(this,(function(t){var n;if(s&&void 0===t)return void 0!==(n=Y.get(s,e))||void 0!==(n=ee(s,e))?n:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),_.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.length,r=n.shift(),s=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,(function(){_.dequeue(e,t)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:_.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=_.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=J.get(s[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],re=y.documentElement,se=function(e){return _.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(se=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===_.css(e,"display")};function le(e,t,n,i){var r,s,o=20,a=i?function(){return i.cur()}:function(){return _.css(e,t,"")},l=a(),c=n&&n[3]||(_.cssNumber[t]?"":"px"),u=e.nodeType&&(_.cssNumber[t]||"px"!==c&&+l)&&ne.exec(_.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)_.style(e,t,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),u/=s;u*=2,_.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ce={};function ue(e,t){for(var n,i,r,s,o,a,l,c=[],u=0,d=e.length;u<d;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(c[u]=J.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&ae(i)&&(c[u]=(l=o=s=void 0,o=(r=i).ownerDocument,a=r.nodeName,(l=ce[a])||(s=o.body.appendChild(o.createElement(a)),l=_.css(s,"display"),s.parentNode.removeChild(s),"none"===l&&(l="block"),ce[a]=l)))):"none"!==n&&(c[u]="none",J.set(i,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}_.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?_(this).show():_(this).hide()}))}});var de,he,fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;de=y.createDocumentFragment().appendChild(y.createElement("div")),(he=y.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),de.appendChild(he),p.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",p.option=!!de.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?_.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,p.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var we=/<|&#?\w+;/;function be(e,t,n,i,r){for(var s,o,a,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===b(s))_.merge(h,s.nodeType?[s]:s);else if(we.test(s)){for(o=o||d.appendChild(t.createElement("div")),a=(pe.exec(s)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,o.innerHTML=l[1]+_.htmlPrefilter(s)+l[2],u=l[0];u--;)o=o.lastChild;_.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(t.createTextNode(s));for(d.textContent="",f=0;s=h[f++];)if(i&&-1<_.inArray(s,i))r&&r.push(s);else if(c=se(s),o=ye(d.appendChild(s),"script"),c&&ve(o),n)for(u=0;s=o[u++];)me.test(s.type||"")&&n.push(s);return d}var xe=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function Se(){return!1}function Ce(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,i,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,a,n,i,t[a],s);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===s&&(o=r,(r=function(e){return _().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=_.guid++)),e.each((function(){_.event.add(this,t,r,i,n)}))}function Ee(e,t,n){n?(J.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),J.set(this,t,o),i=n(this,t),this[t](),o!==(r=J.get(this,t))||i?J.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else o.length&&(J.set(this,t,{value:_.event.trigger(_.extend(o[0],_.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&_.event.add(e,t,_e)}_.event={global:{},add:function(e,t,n,i,r){var s,o,a,l,c,u,d,h,f,p,m,g=J.get(e);if(G(e))for(n.handler&&(n=(s=n).handler,r=s.selector),r&&_.find.matchesSelector(re,r),n.guid||(n.guid=_.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)f=m=(a=xe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=_.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=_.event.special[f]||{},u=_.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:p.join(".")},s),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,o)||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),_.event.global[f]=!0)},remove:function(e,t,n,i,r){var s,o,a,l,c,u,d,h,f,p,m,g=J.hasData(e)&&J.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(f=m=(a=xe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=_.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)u=h[s],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||_.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)_.event.remove(e,f+t[c],n,i,!0);_.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,s,o,a=new Array(arguments.length),l=_.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],u=_.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=_.event.handlers.call(this,l,c),t=0;(r=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(i=((_.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,r,s,o,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],o={},n=0;n<l;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?-1<_(r,this).index(c):_.find(r,this,null,[c]).length),o[r]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&k(t,"input")&&Ee(t,"click",_e),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&k(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&k(t,"input")&&J.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(e,t){_.event.special[e]={setup:function(){return Ee(this,e,Ce),!1},trigger:function(){return Ee(this,e),!0},_default:function(){return!0},delegateType:t}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||_.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),_.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each((function(){_.event.remove(this,e,n,t)}))}});var Ae=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,i,r,s,o,a;if(1===t.nodeType){if(J.hasData(e)&&(a=J.get(e).events))for(r in J.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)_.event.add(t,r,a[r][n]);Y.hasData(e)&&(s=Y.access(e),o=_.extend({},s),Y.set(t,o))}}function De(e,t,n,i){t=o(t);var r,s,a,l,c,u,d=0,h=e.length,f=h-1,g=t[0],y=m(g);if(y||1<h&&"string"==typeof g&&!p.checkClone&&ke.test(g))return e.each((function(r){var s=e.eq(r);y&&(t[0]=g.call(this,r,s.html())),De(s,t,n,i)}));if(h&&(s=(r=be(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=_.map(ye(r,"script"),Le)).length;d<h;d++)c=r,d!==f&&(c=_.clone(c,!0,!0),l&&_.merge(a,ye(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,_.map(a,Me),d=0;d<l;d++)c=a[d],me.test(c.type||"")&&!J.access(c,"globalEval")&&_.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Ie,""),c,u))}return e}function je(e,t,n){for(var i,r=t?_.filter(t,e):e,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||_.cleanData(ye(i)),i.parentNode&&(n&&se(i)&&ve(ye(i,"script")),i.parentNode.removeChild(i));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,s,o,a,l,c,u=e.cloneNode(!0),d=se(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(o=ye(u),i=0,r=(s=ye(e)).length;i<r;i++)a=s[i],"input"===(c=(l=o[i]).nodeName.toLowerCase())&&fe.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(s=s||ye(e),o=o||ye(u),i=0,r=s.length;i<r;i++)Pe(s[i],o[i]);else Pe(e,u);return 0<(o=ye(u,"script")).length&&ve(o,!d&&ye(e,"script")),u},cleanData:function(e){for(var t,n,i,r=_.event.special,s=0;void 0!==(n=e[s]);s++)if(G(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),_.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return $(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return De(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)}))},prepend:function(){return De(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return De(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return De(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,(function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(ye(this)),n&&n.replaceChild(t,this))}),e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var n,i=[],r=_(e),s=r.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),_(r[o])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var Ne=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Re=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var i,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=s[r];return i},Oe=new RegExp(ie.join("|"),"i");function Ue(e,t,n){var i,r,s,o,a=e.style;return(n=n||Re(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||se(e)||(o=_.style(e,t)),!p.pixelBoxStyles()&&Ne.test(o)&&Oe.test(t)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",o=36===n(t.right),r=36===n(t.width),u.style.position="absolute",s=12===n(u.offsetWidth/3),re.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,s,o,a,l,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,_.extend(p,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,n,i,r;return null==a&&(t=y.createElement("table"),n=y.createElement("tr"),i=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",re.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,re.removeChild(t)),a}}))}();var Be=["Webkit","Moz","ms"],$e=y.createElement("div").style,ze={};function We(e){return _.cssProps[e]||ze[e]||(e in $e?e:ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Be.length;n--;)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ye(e,t,n,i,r,s){var o="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=_.css(e,n+ie[o],!0,r)),i?("content"===n&&(l-=_.css(e,"padding"+ie[o],!0,r)),"margin"!==n&&(l-=_.css(e,"border"+ie[o]+"Width",!0,r))):(l+=_.css(e,"padding"+ie[o],!0,r),"padding"!==n?l+=_.css(e,"border"+ie[o]+"Width",!0,r):a+=_.css(e,"border"+ie[o]+"Width",!0,r));return!i&&0<=s&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))||0),l}function Qe(e,t,n){var i=Re(e),r=(!p.boxSizingReliable()||n)&&"border-box"===_.css(e,"boxSizing",!1,i),s=r,o=Ue(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ne.test(o)){if(!n)return o;o="auto"}return(!p.boxSizingReliable()&&r||!p.reliableTrDimensions()&&k(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===_.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===_.css(e,"boxSizing",!1,i),(s=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+Ye(e,t,n||(r?"border":"content"),s,i,o)+"px"}function Ze(e,t,n,i,r){return new Ze.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=K(t),l=Ke.test(t),c=e.style;if(l||(t=We(a)),o=_.cssHooks[t]||_.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:c[t];"string"==(s=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=le(e,t,r),s="number"),null!=n&&n==n&&("number"!==s||l||(n+=r&&r[3]||(_.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,s,o,a=K(t);return Ke.test(t)||(t=We(a)),(o=_.cssHooks[t]||_.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Ue(e,t,i)),"normal"===r&&t in Xe&&(r=Xe[t]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,n,i){if(n)return!Ve.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,i):Fe(e,Ge,(function(){return Qe(e,t,i)}))},set:function(e,n,i){var r,s=Re(e),o=!p.scrollboxSize()&&"absolute"===s.position,a=(o||i)&&"border-box"===_.css(e,"boxSizing",!1,s),l=i?Ye(e,t,i,a,s):0;return a&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-Ye(e,t,"border",!1,s)-.5)),l&&(r=ne.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),Je(0,n,l)}}})),_.cssHooks.marginLeft=He(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ie[i]+t]=s[i]||s[i-2]||s[0];return r}},"margin"!==e&&(_.cssHooks[e+t].set=Je)})),_.fn.extend({css:function(e,t){return $(this,(function(e,t,n){var i,r,s={},o=0;if(Array.isArray(t)){for(i=Re(e),r=t.length;o<r;o++)s[t[o]]=_.css(e,t[o],!1,i);return s}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,1<arguments.length)}}),((_.Tween=Ze).prototype={constructor:Ze,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(_.cssNumber[n]?"":"px")},cur:function(){var e=Ze.propHooks[this.prop];return e&&e.get?e.get(this):Ze.propHooks._default.get(this)},run:function(e){var t,n=Ze.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ze.propHooks._default.set(this),this}}).init.prototype=Ze.prototype,(Ze.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[We(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ze.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=Ze.prototype.init,_.fx.step={};var et,tt,nt,it,rt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ot(){tt&&(!1===y.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,_.fx.interval),_.fx.tick())}function at(){return e.setTimeout((function(){et=void 0})),et=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ie[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,n){for(var i,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,t,e))return i}function ut(e,t,n){var i,r,s=0,o=ut.prefilters.length,a=_.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=et||at(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(i);return a.notifyWith(e,[c,i,n]),i<1&&o?n:(o||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:et||at(),duration:n.duration,tweens:[],createTween:function(t,n){var i=_.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,s,o;for(n in e)if(r=t[i=K(n)],s=e[n],Array.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(o=_.cssHooks[i])&&"expand"in o)for(n in s=o.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);s<o;s++)if(i=ut.prefilters[s].call(c,e,u,c.opts))return m(i.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return _.map(u,ct,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(N);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,s,o,a,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&ae(e),g=J.get(e,"fxshow");for(i in n.queue||(null==(o=_._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,h.always((function(){h.always((function(){o.unqueued--,_.queue(e,"fx").length||o.empty.fire()}))}))),t)if(r=t[i],rt.test(r)){if(delete t[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||_.style(e,i)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(u=_.css(e,"display"))&&(c?u=c:(ue([e],!0),c=e.style.display||c,u=_.css(e,"display"),ue([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===_.css(e,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:c}),s&&(g.hidden=!m),m&&ue([e],!0),h.done((function(){for(i in m||ue([e]),J.remove(e,"fxshow"),f)_.style(e,i,f[i])}))),l=ct(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _.fx.speeds?i.duration=_.fx.speeds[i.duration]:i.duration=_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=_.isEmptyObject(e),s=_.speed(t,n,i),o=function(){var t=ut(this,_.extend({},e),s);(r||J.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",s=_.timers,o=J.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&st.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=_.timers,o=i?i.length:0;for(n.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}})),_.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(et=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),et=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){tt||(tt=!0,ot())},_.fx.stop=function(){tt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},nt=y.createElement("input"),it=y.createElement("select").appendChild(y.createElement("option")),nt.type="checkbox",p.checkOn=""!==nt.value,p.optSelected=it.selected,(nt=y.createElement("input")).value="t",nt.type="radio",p.radioValue="t"===nt.value;var dt,ht=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return $(this,_.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?_.prop(e,t,n):(1===s&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=_.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(N);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ht[t]||_.find.attr;ht[t]=function(e,t,i){var r,s,o=t.toLowerCase();return i||(s=ht[o],ht[o]=r,r=null!=n(e,t,i)?o:null,ht[o]=s),r}}));var ft=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function mt(e){return(e.match(N)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}_.fn.extend({prop:function(e,t){return $(this,_.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&_.isXMLDoc(e)||(t=_.propFix[t]||t,r=_.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,n,i,r,s,o,a,l=0;if(m(e))return this.each((function(t){_(this).addClass(e.call(this,t,gt(this)))}));if((t=yt(e)).length)for(;n=this[l++];)if(r=gt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(o=0;s=t[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(a=mt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,s,o,a,l=0;if(m(e))return this.each((function(t){_(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[l++];)if(r=gt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(o=0;s=t[o++];)for(;-1<i.indexOf(" "+s+" ");)i=i.replace(" "+s+" "," ");r!==(a=mt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,r,s,o;if(i)for(r=0,s=_(this),o=yt(e);t=o[r++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+mt(gt(n))+" ").indexOf(t))return!0;return!1}});var vt=/\r/g;_.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=m(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,(function(e){return null==e?"":e+""}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:mt(_.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?s+1:r.length;for(i=s<0?l:o?s:0;i<l;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=_(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,s=_.makeArray(t),o=r.length;o--;)((i=r[o]).selected=-1<_.inArray(_.valHooks.option.get(i),s))&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<_.inArray(_(e).val(),t)}},p.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,i,r){var s,o,a,l,c,u,h,f,p=[i||y],v=d.call(t,"type")?t.type:t,w=d.call(t,"namespace")?t.namespace.split("."):[];if(o=f=a=i=i||y,3!==i.nodeType&&8!==i.nodeType&&!wt.test(v+_.event.triggered)&&(-1<v.indexOf(".")&&(v=(w=v.split(".")).shift(),w.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[_.expando]?t:new _.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=w.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:_.makeArray(n,[t]),h=_.event.special[v]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!g(i)){for(l=h.delegateType||v,wt.test(l+v)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(i.ownerDocument||y)&&p.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=p[s++])&&!t.isPropagationStopped();)f=o,t.type=1<s?l:h.bindType||v,(u=(J.get(o,"events")||Object.create(null))[t.type]&&J.get(o,"handle"))&&u.apply(o,n),(u=c&&o[c])&&u.apply&&G(o)&&(t.result=u.apply(o,n),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),n)||!G(i)||c&&m(i[v])&&!g(i)&&((a=i[c])&&(i[c]=null),_.event.triggered=v,t.isPropagationStopped()&&f.addEventListener(v,bt),i[v](),t.isPropagationStopped()&&f.removeEventListener(v,bt),_.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(i,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),p.focusin||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,t);r||i.addEventListener(e,n,!0),J.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,t)-1;r?J.access(i,t,r):(i.removeEventListener(e,n,!0),J.remove(i,t))}}}));var xt=e.location,_t={guid:Date.now()},St=/\?/;_.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||_.error("Invalid XML: "+(i?_.map(i.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Ct=/\[\]$/,Tt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function kt(e,t,n,i){var r;if(Array.isArray(t))_.each(t,(function(t,r){n||Ct.test(e)?i(e,r):kt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==b(t))i(e,t);else for(r in t)kt(e+"["+r+"]",t[r],n,i)}_.param=function(e,t){var n,i=[],r=function(e,t){var n=m(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){r(this.name,this.value)}));else for(n in e)kt(n,e[n],t,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&At.test(this.nodeName)&&!Et.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}})):{name:t.name,value:n.replace(Tt,"\r\n")}})).get()}});var It=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,Dt=/^\/\//,jt={},Nt={},Rt="*/".concat("*"),Ft=y.createElement("a");function Ot(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(N)||[];if(m(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ut(e,t,n,i){var r={},s=e===Nt;function o(a){var l;return r[a]=!0,_.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function Ht(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}Ft.href=xt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,_.ajaxSettings),t):Ht(_.ajaxSettings,e)},ajaxPrefilter:Ot(jt),ajaxTransport:Ot(Nt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,r,s,o,a,l,c,u,d,h,f=_.ajaxSetup({},n),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?_(p):_.event,g=_.Deferred(),v=_.Callbacks("once memory"),w=f.statusCode||{},b={},x={},S="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Mt.exec(s);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||S;return i&&i.abort(t),T(0,t),this}};if(g.promise(C),f.url=((t||f.url||xt.href)+"").replace(Dt,xt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){l=y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=_.param(f.data,f.traditional)),Ut(jt,f,n,C),c)return C;for(d in(u=_.event&&f.global)&&0==_.active++&&_.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pt.test(f.type),r=f.url.replace(qt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(It,"+")):(h=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(St.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Lt,"$1"),h=(St.test(r)?"&":"?")+"_="+_t.guid+++h),f.url=r+h),f.ifModified&&(_.lastModified[r]&&C.setRequestHeader("If-Modified-Since",_.lastModified[r]),_.etag[r]&&C.setRequestHeader("If-None-Match",_.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Rt+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,C,f)||c))return C.abort();if(S="abort",v.add(f.complete),C.done(f.success),C.fail(f.error),i=Ut(Nt,f,n,C)){if(C.readyState=1,u&&m.trigger("ajaxSend",[C,f]),c)return C;f.async&&0<f.timeout&&(a=e.setTimeout((function(){C.abort("timeout")}),f.timeout));try{c=!1,i.send(b,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,n,o,l){var d,h,y,b,x,S=n;c||(c=!0,a&&e.clearTimeout(a),i=void 0,s=l||"",C.readyState=0<t?4:0,d=200<=t&&t<300||304===t,o&&(b=function(e,t,n){for(var i,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),n[s]}(f,C,o)),!d&&-1<_.inArray("script",f.dataTypes)&&_.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(e,t,n,i){var r,s,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,b,C,d),d?(f.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(_.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(_.etag[r]=x)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=b.state,h=b.data,d=!(y=b.error))):(y=S,!t&&S||(S="error",t<0&&(t=0))),C.status=t,C.statusText=(n||S)+"",d?g.resolveWith(p,[h,S,C]):g.rejectWith(p,[C,S,y]),C.statusCode(w),w=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[C,f,d?h:y]),v.fireWith(p,[C,S]),u&&(m.trigger("ajaxComplete",[C,f]),--_.active||_.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],(function(e,t){_[t]=function(e,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:n,success:i},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=_.ajaxSettings.xhr();p.cors=!!$t&&"withCredentials"in $t,p.ajax=$t=!!$t,_.ajaxTransport((function(t){var n,i;if(p.cors||$t&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(r){if(n)throw r}},abort:function(){n&&n()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),_.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var zt,Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||_.expando+"_"+_t.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(t,n,i){var r,s,o,a=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Vt,"$1"+r):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||_.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},i.always((function(){void 0===s?_(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(r)),o&&m(s)&&s(o[0]),o=s=void 0})),"script"})),p.createHTMLDocument=((zt=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),s=!n&&[],(r=I.exec(e))?[t.createElement(r[1])]:(r=be([e],t,s),s&&s.length&&_(s).remove(),_.merge([],r.childNodes)));var i,r,s},_.fn.load=function(e,t,n){var i,r,s,o=this,a=e.indexOf(" ");return-1<a&&(i=mt(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){s=arguments,o.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,s||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,n){var i,r,s,o,a,l,c=_.css(e,"position"),u=_(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(o=(i=u.position()).top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),m(t)&&(t=t.call(e,n,_.extend({},a))),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(i,"marginTop",!0),left:t.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||re}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;_.fn[e]=function(i){return $(this,(function(e,i,r){var s;if(g(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):e[i]=r}),e,i,arguments.length)}})),_.each(["top","left"],(function(e,t){_.cssHooks[t]=He(p.pixelPosition,(function(e,n){if(n)return n=Ue(e,t),Ne.test(n)?_(e).position()[t]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){_.fn[i]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return $(this,(function(t,n,r){var s;return g(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?_.css(t,n,a):_.style(t,n,r,a)}),t,o?r:void 0,o)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return i=s.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||_.guid++,r},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=k,_.isFunction=m,_.isWindow=g,_.camelCase=K,_.type=b,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Kt,"")},"function"==typeof n&&n.amd&&n("jquery",[],(function(){return _}));var Gt=e.jQuery,Xt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=Xt),t&&e.jQuery===_&&(e.jQuery=Gt),_},void 0===t&&(e.jQuery=e.$=_),_},"object"==typeof e.exports?e.exports=i.document?r(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(i),function(e){var t={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,onClick:null,icon_type:"class",template:()=>{throw new Error("bootstrap-notify.js - please provide your own template function")}};function n(n,i,r){var s,o,a={content:{message:"object"==typeof i?i.message:i,title:i.title?i.title:"",icon:i.icon?i.icon:"",url:i.url?i.url:"#",target:i.target?i.target:"-"}};r=e.extend(!0,{},a,r),this.settings=e.extend(!0,{},t,r),this._defaults=t,"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),(this.settings.allow_duplicates||!this.settings.allow_duplicates&&(s=this,o=!1,e('[data-notify="container"]').each((function(t,n){var i=e(n),r=i.find('[data-notify="title"]').html().trim(),a=i.find('[data-notify="message"]').html().trim(),l=r===e("<div>"+s.settings.content.title+"</div>").html().trim(),c=a===e("<div>"+s.settings.content.message+"</div>").html().trim(),u=i.hasClass("alert-"+s.settings.type);return l&&c&&u&&(o=!0),!o})),!o))&&this.init()}e.extend(n.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,n){var i={};for(var r in"string"==typeof t?i[t]=n:i=t,i)switch(r){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=i[r],this.$ele.addClass("alert-"+i[r]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[r]);break;case"icon":var s=this.$ele.find('[data-notify="icon"]');"class"===e.settings.icon_type.toLowerCase()?s.removeClass(e.settings.content.icon).addClass(i[r]):(s.is("img")||s.find("img"),s.attr("src",i[r])),e.settings.content.icon=i[t];break;case"progress":var o=e.settings.delay-e.settings.delay*(i[r]/100);this.$ele.data("notify-delay",o),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[r]).css("width",i[r]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[r]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[r]);break;default:this.$ele.find('[data-notify="'+r+'"]').html(i[r])}var a=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(a)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(this.settings.template(this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,n=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,s=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){n=Math.max(n,parseInt(e(this).css(s.placement.from))+parseInt(e(this).outerHeight())+parseInt(s.spacing))})),!0===this.settings.newest_on_top&&(n=this.settings.offset.y),i[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),e.each(Array("webkit-","moz-","o-","ms-",""),(function(e,n){t.$ele[0].style[n+"AnimationIterationCount"]=1})),e(this.settings.element).append(this.$ele),!0===this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(){r=!0})).one(this.animations.end,(function(){t.$ele.removeClass(t.settings.animate.enter),e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)})),setTimeout((function(){r||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){t.close()})),e.isFunction(t.settings.onClick)&&this.$ele.on("click",(function(e){e.target!=t.$ele.find('[data-notify="dismiss"]')[0]&&t.settings.onClick.call(this,e)})),this.$ele.mouseover((function(){e(this).data("data-hover","true")})).mouseout((function(){e(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var n=setInterval((function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"===t.settings.mouse_over||"pause"!=t.settings.mouse_over){var i=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}e<=-t.settings.timer&&(clearInterval(n),t.close())}),t.settings.timer)}},close:function(){var t=this,n=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.attr("data-closing","true").addClass(this.settings.animate.exit),t.reposition(n),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(){i=!0})).one(this.animations.end,(function(){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)})),setTimeout((function(){i||(t.$ele.remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this))}),600)},reposition:function(t){var n=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(i);!0===this.settings.newest_on_top&&(r=this.$ele.prevAll(i)),r.each((function(){e(this).css(n.settings.placement.from,t),t=parseInt(t)+parseInt(n.settings.spacing)+e(this).outerHeight()}))}}),e.notify=function(e,t){return new n(this,e,t).notify},e.notifyDefaults=function(n){return t=e.extend(!0,{},t,n)},e.notifyClose=function(t){void 0===t||"all"===t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):"success"===t||"info"===t||"warning"===t||"danger"===t?e(".alert-"+t+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t?e(t+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")},e.notifyCloseExcept=function(t){"success"===t||"info"===t||"warning"===t||"danger"===t?e("[data-notify]").not(".alert-"+t).find('[data-notify="dismiss"]').trigger("click"):e("[data-notify]").not(t).find('[data-notify="dismiss"]').trigger("click")}}(jQuery),window.wasmFeatureDetect={bigInt:()=>(async e=>{try{return(await WebAssembly.instantiate(e)).instance.exports.b(BigInt(0))===BigInt(0)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),extendedConst:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),memory64:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiValue:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation:()=>(async()=>"compileStreaming"in WebAssembly)(),tailCall:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads:()=>(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))},n("client/settings",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.storeStudioEndpoint=t.getStudioEndpoint=t.storeRemoteManagementEndpoint=t.getRemoteManagementEndpoint=t.storeIngestionApi=t.getIngestionApi=t.storeDeviceId=t.getDeviceId=t.storeSampleLength=t.getSampleLength=t.storeFrequency=t.getFrequency=t.storeCategory=t.getCategory=t.storeLabel=t.getLabel=t.storeKeyword=t.getKeyword=t.storeApiKeyAndImpulseId=t.getAuth=void 0;const n="wss://remote-mgmt.edgeimpulse.com",i="https://ingestion.edgeimpulse.com",r="https://studio.edgeimpulse.com",s="apiKey",o="impulseId",a="keyword",l="label",c="sampleLength",u="category",d="frequency",h="deviceId",f="ingestionApi",p="remoteMgmtEndpoint",m="studioEndpoint";t.getAuth=function(){const e=new URLSearchParams(window.location.search).get("apiKey"),t=new URLSearchParams(window.location.search).get("publicProjectId"),n=localStorage.getItem(s),i=new URLSearchParams(window.location.search).get("impulseId")||localStorage.getItem(o),r=i?Number(i):void 0;return e?{auth:"apiKey",apiKey:e,impulseId:r}:t?{auth:"publicProject",projectId:Number(t),impulseId:r}:n?{auth:"apiKey",apiKey:n,impulseId:r}:void 0},t.storeApiKeyAndImpulseId=(e,t)=>{console.log("storeApiKeyAndImpulseId",e,"impulseId",t,"search",window.location.search),localStorage.setItem(s,e),void 0===t?localStorage.removeItem(o):localStorage.setItem(o,t.toString())},t.getKeyword=()=>new URLSearchParams(window.location.search).get("keyword")||localStorage.getItem(a)||"",t.storeKeyword=e=>{console.log("storeKeyword",e,window.location.search),localStorage.setItem(a,e)},t.getLabel=()=>new URLSearchParams(window.location.search).get("label")||localStorage.getItem(l)||"",t.storeLabel=e=>{console.log("storeLabel",e,window.location.search),localStorage.setItem(l,e)},t.getCategory=()=>{const e=new URLSearchParams(window.location.search).get("category");return e&&["training","testing","split"].includes(e)?e:(console.log("invalid category in URL",e),localStorage.getItem(u)||"")},t.storeCategory=e=>{console.log("storeSampleLength",e,window.location.search),localStorage.setItem(u,e.toString())},t.getFrequency=()=>Number(new URLSearchParams(window.location.search).get("frequency"))||Number(localStorage.getItem(d))||NaN,t.storeFrequency=e=>{console.log("storeFrequency",e,window.location.search),localStorage.setItem(d,e.toString())},t.getSampleLength=()=>Number(new URLSearchParams(window.location.search).get("sampleLength"))||Number(localStorage.getItem(c))||NaN,t.storeSampleLength=e=>{console.log("storeSampleLength",e,window.location.search),localStorage.setItem(c,e.toString())};const g=navigator.maxTouchPoints||"ontouchstart"in document.documentElement?"phone":"computer";t.getDeviceId=()=>localStorage.getItem(h)||`${g}_${Date.now().toString(36)}`,t.storeDeviceId=e=>{localStorage.setItem(h,e)},t.getIngestionApi=()=>{let e=new URLSearchParams(window.location.search).get("ingestionApi"),t=new URLSearchParams(window.location.search).get("env"),n=localStorage.getItem(f);return e||(t?"http://ingestion."+t+".test.edgeimpulse.com":n||("smartphone.acc2.edgeimpulse.com"===window.location.host?i.replace("edgeimpulse.com","acc2.edgeimpulse.com"):i))},t.storeIngestionApi=e=>{console.log("storeIngestionApi",e),localStorage.setItem(f,e)},t.getRemoteManagementEndpoint=()=>{let e=new URLSearchParams(window.location.search).get("remoteManagement"),t=new URLSearchParams(window.location.search).get("env"),i=localStorage.getItem(p);return e||(t?"ws://remote-mgmt."+t+".test.edgeimpulse.com":i||("smartphone.acc2.edgeimpulse.com"===window.location.host?n.replace("edgeimpulse.com","acc2.edgeimpulse.com"):n))},t.storeRemoteManagementEndpoint=e=>{console.log("storeRemoteManagementEndpoint",e),localStorage.setItem(p,e)},t.getStudioEndpoint=()=>{let e=new URLSearchParams(window.location.search).get("studio"),t=new URLSearchParams(window.location.search).get("env"),n=localStorage.getItem(m);return e||(t?"http://studio."+t+".test.edgeimpulse.com":n&&-1===n.indexOf("wss://")?n:"smartphone.acc2.edgeimpulse.com"===window.location.host?r.replace("edgeimpulse.com","acc2.edgeimpulse.com"):r)},t.storeStudioEndpoint=e=>{console.log("storeStudioEndpoint",e),localStorage.setItem(m,e)}})),n("client/models",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),n("client/sensors/isensor",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),n("client/sensors/camera",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSensor=void 0,t.CameraSensor=class{async hasSensor(){return!(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)&&(await navigator.mediaDevices.enumerateDevices()).some((e=>"videoinput"===e.kind))}async checkPermissions(e){if(!await this.hasSensor())throw new Error("Camera not present on this device");if(this._stream)return!0;if(e){this._stream=await navigator.mediaDevices.getUserMedia({audio:!1,video:{width:{ideal:512},height:{ideal:512},facingMode:{ideal:"environment"}}});const e=document.querySelector("video");if(!e)throw new Error("Element not found");return e.srcObject=this._stream,!0}return!1}getProperties(){return{name:"Camera",maxSampleLength:100,frequencies:[]}}takeSample(e){const t=document.querySelector("video"),n=document.querySelector("canvas"),i=document.querySelector("#capture-camera-button");if(!t||!n||!i)throw new Error("Element not found");if(!this._stream)throw new Error("Video stream not set");let r=this._stream.getVideoTracks()[0].getSettings().width||256;this._stream.getVideoTracks()[0].getSettings().height,e.inputWidth||Math.min(r,640);return e.inputHeight,new Promise(((t,n)=>{i.onclick=async()=>{this.isPaused()||(i.classList.add("disabled"),this.takeSnapshot(e).then(t).catch(n))}})).then((e=>(i.classList.remove("disabled"),e))).catch((e=>{throw i.classList.remove("disabled"),e}))}takeSnapshot(e){const t=document.querySelector("video"),n=document.querySelector("canvas");if(!t||!n)throw new Error("Element not found");if(!this._stream)throw new Error("Video stream not set");let i=this._stream.getVideoTracks()[0].getSettings().width||256,r=this._stream.getVideoTracks()[0].getSettings().height||256,s=e.inputWidth||Math.min(i,640),o=e.inputHeight||s/i*r;return n.width=s,n.height=o,new Promise(((i,r)=>{const a=n.getContext("2d");if(!a)throw new Error("Canvas not supported");if(a.drawImage(t,0,0,s,o),"raw"===e.mode){let e=a.getImageData(0,0,s,o),t=[];for(let n=0;n<s*o;n++)t.push(Number(e.data[4*n]<<16|e.data[4*n+1]<<8|e.data[4*n+2]));i({values:t,intervalMs:0,sensors:[{name:"image",units:"rgba"}]})}else n.toBlob((e=>{if(!e)return r("Sampling failed");i({values:["Ref-BINARY-image/jpeg ("+e.size.toString()+" bytes) xyz"],intervalMs:0,sensors:[{name:"image",units:"rgba"}],attachments:[{value:e,options:{contentType:"image/jpeg"}}]})}),"image/jpeg",.95)}))}pause(){const e=document.querySelector("video");e&&e.pause()}async resume(){const e=document.querySelector("video");e&&await e.play()}isPaused(){const e=document.querySelector("video");if(e)return e.paused}}})),n("client/messages",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.sampleFinished=t.sampleUploading=t.sampleProcessing=t.sampleStarted=t.sampleRequestFailed=t.sampleRequestReceived=t.helloMessage=t.dataMessage=void 0;const n=Array(64).fill("0").join("");t.dataMessage=(e,t)=>({protected:{ver:"v1",alg:"HS256",iat:Math.floor(Date.now()/1e3)},signature:n,payload:{device_name:e.device.deviceId,device_type:e.device.deviceType,interval_ms:t.intervalMs,sensors:t.sensors,values:t.values}}),t.helloMessage=e=>({hello:{version:3,apiKey:e.apiKey,deviceId:e.device.deviceId,deviceType:e.device.deviceType,connection:"ip",sensors:e.device.sensors.map((e=>({name:e.name,maxSampleLengthS:e.maxSampleLength,frequencies:e.frequencies}))),supportsSnapshotStreaming:!1}}),t.sampleRequestReceived={sample:!0},t.sampleRequestFailed=e=>({sample:!1,error:e}),t.sampleStarted={sampleStarted:!0},t.sampleProcessing={sampleProcessing:!0},t.sampleUploading={sampleUploading:!0},t.sampleFinished={sampleFinished:!0}})),n("client/utils",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createSignature=t.getErrorMsg=t.parseMessage=t.readFile=void 0,t.readFile=e=>new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{i.result instanceof ArrayBuffer&&t(CBOR.decode(i.result)),n("Only support ArrayBuffer")},i.onerror=n,i.readAsArrayBuffer(e)})),t.parseMessage=async e=>e.data instanceof Blob?await(0,t.readFile)(e.data):"string"==typeof e.data?"pong"===e.data?null:JSON.parse(e.data):null,t.getErrorMsg=e=>e instanceof Error?e.message||e.toString():""+e,t.createSignature=async(e,t)=>{const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),r=await crypto.subtle.sign("HMAC",i,n.encode(JSON.stringify(t))),s=new Uint8Array(r);return Array.prototype.map.call(s,(e=>("00"+e.toString(16)).slice(-2))).join("")}})),n("client/uploader",["require","exports","client/utils","client/settings"],(function(e,t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Uploader=void 0,t.Uploader=class{constructor(e){this._apiKey=e}encodeLabel(e){let t;try{t=encodeURIComponent(e)}catch(n){t=e}return t}async uploadSample(e,t,r){console.log("uploader uploadSample",e,t,r),t.signature=await(0,n.createSignature)(e.hmacKey,t);let s=new FormData;return s.append("message",new Blob([JSON.stringify(t)],{type:"application/json"}),"message.json"),r.attachments&&r.attachments[0].value&&s.append("image",r.attachments[0].value,"image.jpg"),new Promise(((t,n)=>{let r=new XMLHttpRequest;r.onload=()=>{200===r.status?t(r.responseText):n("Failed to upload (status code "+r.status+"): "+r.responseText)},r.onerror=()=>n(void 0),r.open("post",(0,i.getIngestionApi)()+e.path),r.setRequestHeader("x-api-key",this._apiKey),e.label?r.setRequestHeader("x-file-name",this.encodeLabel(e.label)):(r.setRequestHeader("x-no-date-id","1"),r.setRequestHeader("x-no-label","1"),r.setRequestHeader("x-file-name","sample"+Date.now())),r.send(s)}))}}})),n("client/typed-event-emitter",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.Emitter=void 0,t.Emitter=class{constructor(){this._=[],this.$=Object.create(null)}on(e,t){(this.$[e]=this.$[e]||[]).push(t)}off(e,t){const n=this.$[e];n&&n.splice(n.indexOf(t)>>>0,1)}each(e){this._.push(e)}none(e){this._.splice(this._.indexOf(e)>>>0,1)}emit(e,...t){const n=this.$[e];n&&n.slice().forEach((e=>e(...t))),this._.slice().forEach((n=>n({type:e,args:t})))}},t.once=function(e,t,n){const i=(...r)=>(e.off(t,i),n(...r));return e.on(t,i),i}})),n("client/classifier",["require","exports"],(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeImpulseClassifier=t.EiSerialSensor=void 0,function(e){e[e.EI_CLASSIFIER_SENSOR_UNKNOWN=-1]="EI_CLASSIFIER_SENSOR_UNKNOWN",e[e.EI_CLASSIFIER_SENSOR_MICROPHONE=1]="EI_CLASSIFIER_SENSOR_MICROPHONE",e[e.EI_CLASSIFIER_SENSOR_ACCELEROMETER=2]="EI_CLASSIFIER_SENSOR_ACCELEROMETER",e[e.EI_CLASSIFIER_SENSOR_CAMERA=3]="EI_CLASSIFIER_SENSOR_CAMERA",e[e.EI_CLASSIFIER_SENSOR_9DOF=4]="EI_CLASSIFIER_SENSOR_9DOF",e[e.EI_CLASSIFIER_SENSOR_ENVIRONMENTAL=5]="EI_CLASSIFIER_SENSOR_ENVIRONMENTAL"}(n=t.EiSerialSensor||(t.EiSerialSensor={})),t.EdgeImpulseClassifier=class{constructor(e){this._initialized=!1,this._module=e,this._module.onRuntimeInitialized=()=>{this._module.init(),this._props=this.getProperties(),this._initialized=!0}}init(){return!0===this._initialized?Promise.resolve():new Promise((e=>{this._module.onRuntimeInitialized=()=>{this._module.init(),this._props=this.getProperties(),this._initialized=!0,e()}}))}getProperties(){const e=this._module.get_properties();let t;if(e.sensor===n.EI_CLASSIFIER_SENSOR_ACCELEROMETER)t="accelerometer";else if(e.sensor===n.EI_CLASSIFIER_SENSOR_MICROPHONE)t="microphone";else if(e.sensor===n.EI_CLASSIFIER_SENSOR_CAMERA)t="camera";else{if(e.sensor!==n.EI_CLASSIFIER_SENSOR_9DOF)throw new Error("Unknown sensor ("+e.sensor+")");t="positional"}return{sensor:t,frequency:e.frequency,inputFeaturesCount:e.input_features_count,imageInputWidth:e.image_input_width,imageInputHeight:e.image_input_height,imageInputFrames:e.image_input_frames,imageInputChannelCount:e.image_input_channel_count,intervalMs:e.interval_ms,axisCount:e.axis_count,labelCount:e.label_count,modelType:e.model_type,hasAnomaly:e.has_anomaly,hasVisualAnomalyDetection:e.has_visual_anomaly_detection,continuousMode:e.use_continuous_mode&&e.slice_size?{sliceSize:e.slice_size}:void 0,isPerformanceCalibrationEnabled:e.is_performance_calibration_enabled||!1,classificationThreshold:"number"==typeof e.classification_threshold?e.classification_threshold:.8}}getProject(){return this._module.get_project()}classify(e,t=!1){if(!this._initialized||!this._props)throw new Error("Module is not initialized");const n=this._arrayToHeap(e),i=this._module.run_classifier(n.buffer.byteOffset,e.length,t);if(this._module._free(n.ptr),0!==i.result)throw new Error("Classification failed (err code: "+i.result+")");let r={anomaly:i.anomaly,results:[],visual_ad_grid_cells:[],has_visual_anomaly_detection:this._props.hasVisualAnomalyDetection};for(let e=0;e<i.size();e++){let t=i.get(e);r.results.push({label:t.label,value:t.value,x:t.x,y:t.y,width:t.width,height:t.height}),t.delete()}if(this._props.hasVisualAnomalyDetection){r.visual_ad_max=i.visual_ad_max,r.visual_ad_mean=i.visual_ad_mean,r.visual_ad_grid_cells=[];for(let e=0;e<i.visual_ad_grid_cells_size();e++){let t=i.visual_ad_grid_cells_get(e);r.visual_ad_grid_cells.push({label:t.label,value:t.value,x:t.x,y:t.y,width:t.width,height:t.height}),t.delete()}}return i.delete(),r}classifyContinuous(e,t=!1,n=!0){if(!this._initialized||!this._props)throw new Error("Module is not initialized");const i=this._arrayToHeap(e),r=this._module.run_classifier_continuous(i.buffer.byteOffset,e.length,t,n);if(this._module._free(i.ptr),0!==r.result)throw new Error("Classification failed (err code: "+r.result+")");const s={anomaly:r.anomaly,results:[],visual_ad_grid_cells:[],has_visual_anomaly_detection:this._props.hasVisualAnomalyDetection};for(let e=0;e<r.size();e++){let t=r.get(e);s.results.push({label:t.label,value:t.value,x:t.x,y:t.y,width:t.width,height:t.height}),t.delete()}if(this._props.hasVisualAnomalyDetection){s.visual_ad_max=r.visual_ad_max,s.visual_ad_mean=r.visual_ad_mean,s.visual_ad_grid_cells=[];for(let e=0;e<r.visual_ad_grid_cells_size();e++){let t=r.visual_ad_grid_cells_get(e);s.visual_ad_grid_cells.push({label:t.label,value:t.value,x:t.x,y:t.y,width:t.width,height:t.height}),t.delete()}}return r.delete(),s}_arrayToHeap(e){const t=new Float32Array(e),n=t.length*t.BYTES_PER_ELEMENT,i=this._module._malloc(n),r=new Uint8Array(this._module.HEAPU8.buffer,i,n);return r.set(new Uint8Array(t.buffer)),{ptr:i,buffer:r}}}})),n("client/classification-loader",["require","exports","client/typed-event-emitter","client/classifier","client/utils"],(function(e,t,n,i,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ClassificationLoader=void 0;class s extends n.Emitter{constructor(e,t){super(),this._studioHost=e+"/v1/api",this._wsHost=e.replace("http","ws"),this._auth=t,this._impulseIdQs="number"==typeof this._auth.impulseId?`impulseId=${encodeURIComponent(this._auth.impulseId)}`:""}getProjectInfo(){return this._project}async load(){this.emit("status","Retrieving projects...");const e=await this.getProject();if(!e)throw new Error("Could not find any projects");this._project=e;const t=e.id;let n,s;n=await window.wasmFeatureDetect.simd()?"wasm-browser-simd":"wasm",this.emit("status","Downloading deployment...");try{s=await this.downloadDeployment(t,n)}catch(e){if(-1===(0,r.getErrorMsg)(e).indexOf("No deployment yet"))throw e;this.emit("status","Building project..."),await this.buildDeployment(t,n),this.emit("status","Downloading deployment..."),s=await this.downloadDeployment(t,n)}console.log("blob",s),this.emit("status","Received blob ("+Math.floor(s.size/1024)+" KB), extracting...");const o=await this.unzip(s);this.emit("status","Extracted "+o.length+" files"),console.log("Extracted files",o);let a=o.find((e=>e.filename.endsWith("edge-impulse-standalone.wasm")));if(!a&&(a=o.find((e=>e.filename.endsWith(".wasm"))),!a))throw new Error("Cannot find edge-impulse-standalone.wasm file in ZIP file");let l=o.find((e=>e.filename.endsWith("edge-impulse-standalone.js")));if(!l&&(l=o.find((e=>e.filename.endsWith(".js"))),!l))throw new Error("Cannot find edge-impulse-standalone.js file in ZIP file");const c=await this.blobToDataUrl(a.blob);this.emit("status","WASM URL is "+c.substr(0,100)+"...");let u=await this.blobToText(l.blob);u="window.WasmLoader = function (wasmBinaryFile) {\n"+u+"\nreturn Module;\n}",u=u.replace('var wasmBinaryFile="edge-impulse-standalone.wasm"',""),u=u.replace("var wasmBinaryFile;\n  wasmBinaryFile = 'edge-impulse-standalone.wasm';","");const d=new Blob([u],{type:"text/javascript"}),h=document.createElement("script");h.src=URL.createObjectURL(d),console.log("adding script with src",h.src),window.document.body.append(h),await new Promise(((e,t)=>{h.addEventListener("load",(()=>e())),h.addEventListener("error",t)}));const f=window.WasmLoader(c);this.emit("status","Loaded WASM module");const p=new i.EdgeImpulseClassifier(f);return await p.init(),this.emit("status","Initialized classifier"),p}async getProject(){if("apiKey"===this._auth.auth)return new Promise(((e,t)=>{const n=new XMLHttpRequest;n.open("GET",`${this._studioHost}/projects`),n.onload=()=>{200!==n.status?t("No projects found: "+n.status+" - "+JSON.stringify(n.response)):n.response.success?e(n.response.projects[0]):t(n.response.error)},n.onerror=e=>t(e),n.responseType="json","apiKey"===this._auth.auth&&n.setRequestHeader("x-api-key",this._auth.apiKey),n.send()}));{const e=this._auth.projectId;return new Promise(((t,n)=>{const i=new XMLHttpRequest;i.open("GET",`${this._studioHost}/${e}/public-info`),i.onload=()=>{200!==i.status?n("No projects found: "+i.status+" - "+JSON.stringify(i.response)):i.response.success?t({id:i.response.id,name:i.response.name,owner:i.response.owner,studioUrl:i.response.studioUrl}):n(i.response.error)},i.onerror=e=>n(e),i.responseType="json",i.send()}))}}async getDevelopmentKeys(e){return new Promise(((t,n)=>{const i=new XMLHttpRequest;i.open("GET",`${this._studioHost}/${e}/devkeys`),i.onload=()=>{200!==i.status?n("No development keys found: "+i.status+" - "+JSON.stringify(i.response)):i.response.success?t({apiKey:i.response.apiKey,hmacKey:i.response.hmacKey}):n(i.response.error)},i.onerror=e=>n(e),i.responseType="json","apiKey"===this._auth.auth&&i.setRequestHeader("x-api-key",this._auth.apiKey),i.send()}))}async downloadDeployment(e,t){return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",`${this._studioHost}/${e}/deployment/download?type=${t}&modelType=float32&${this._impulseIdQs}`),r.onload=()=>{if(200!==r.status){const e=new FileReader;e.onload=()=>{i("No deployment yet")},e.readAsText(r.response)}else n(r.response)},r.onerror=e=>i(e),r.responseType="blob","apiKey"===this._auth.auth&&r.setRequestHeader("x-api-key",this._auth.apiKey),r.send()}))}async buildDeployment(e,t){if("apiKey"!==this._auth.auth)throw new Error("Cannot build deployment if not authenticated via API key");let n=await this.getWebsocket(e),i=await fetch(`${this._studioHost}/${e}/impulse?${this._impulseIdQs}`,{method:"GET",headers:{"x-api-key":this._auth.apiKey,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to start deployment: "+i.status+" - "+i.statusText);let r=await fetch(`${this._studioHost}/${e}/jobs/build-ondevice-model?type=${t}&${this._impulseIdQs}`,{method:"POST",headers:{"x-api-key":this._auth.apiKey,"Content-Type":"application/json"},body:JSON.stringify({engine:"tflite",modelType:"float32"})});if(!r.ok)throw new Error("Failed to start deployment: "+r.status+" - "+r.statusText);let s=await r.json();if(!s.success)throw new Error(s.error);let o=s.id;console.log("Created job with ID",o);let a=[],l=new Promise(((t,i)=>{let r=setInterval((()=>{n.send("2")}),25e3),s=setInterval((async()=>{try{if("apiKey"!==this._auth.auth)throw new Error("Cannot build deployment if not authenticated via API key");let n=await fetch(`${this._studioHost}/${e}/jobs/${o}/status`,{method:"GET",headers:{"x-api-key":this._auth.apiKey,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to start deployment: "+n.status+" - "+n.statusText);let r=await n.json();if(!r.success)throw new Error(r.error);r.job.finished&&(r.job.finishedSuccessful?(clearInterval(s),t()):(clearInterval(s),i("Failed to build binary")))}catch(e){let t=e;console.warn("Failed to check job status",t.message||t.toString())}}),3e3);n.onmessage=e=>{let n=e.data;try{let e=JSON.parse(n.replace(/^[0-9]+/,""));if(e[0]==="job-data-"+o)this.emit("buildProgress",e[1].data),a.push(e[1].data);else if(e[0]==="job-finished-"+o){let n=e[1].success;this.emit("buildProgress",null),n?(clearInterval(s),t()):(clearInterval(s),i("Failed to build binary"))}}catch(e){}},n.onclose=async()=>{clearInterval(r),i("Websocket was closed")},setTimeout((()=>{i("Building did not succeed within 5 minutes: "+a.join(""))}),3e5)}));return l.then((()=>{n.close()})).catch((e=>{n.close()})),l}async getWebsocket(e){let t={"Content-Type":"application/json"};"apiKey"===this._auth.auth&&(t["x-api-key"]=this._auth.apiKey);let n=await fetch(`${this._studioHost}/${e}/socket-token`,{method:"GET",headers:t});if(200!==n.status)throw new Error("Failed to acquire socket token: "+n.status+" - "+n.statusText);let i=await n.json();if(!i.success)throw new Error(i.error);let r=new WebSocket(this._wsHost+"/socket.io/?token="+i.token.socketToken+"&EIO=3&transport=websocket");return new Promise(((e,t)=>{r.onopen=()=>{console.log("websocket is open")},r.onclose=()=>{t("websocket was closed")},r.onerror=e=>{t("websocket error: "+e)},r.onmessage=n=>{try{let i=JSON.parse(n.data.replace(/^[0-9]+/,""));"hello"===i[0]&&(i[1].hello&&1===i[1].hello.version?e(r):t(JSON.stringify(i[1])))}catch(e){console.log("Failed to parse",n.data)}},setTimeout((()=>{t("Did not authenticate with the websocket API within 10 seconds")}),1e4)}))}async unzip(e){const t=[];return new Promise(((n,i)=>{window.blb=e,window.zip.createReader(new window.zip.BlobReader(e),(e=>{e.getEntries((e=>{for(const i of e)i.getData(new window.zip.BlobWriter,(r=>{if(t.push({filename:i.filename,blob:r}),t.length===e.length)return n(t)}))}))}),(e=>{i(e)}))}))}async blobToDataUrl(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=e=>t((e.target&&e.target.result||"").toString()),i.onerror=e=>n(e),i.readAsDataURL(e)}))}async blobToText(e){return new Promise((t=>{const n=new FileReader;n.addEventListener("loadend",(e=>{const i=n.result;t((i||"").toString())})),n.readAsText(e,"ascii")}))}async sleep(e){return new Promise((t=>{setTimeout(t,e)}))}}t.ClassificationLoader=s})),n("client/escape-html-template-tag/escape",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlSafeString=t.safe=t.join=void 0;const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},i=Symbol.for("nodejs.util.inspect.custom"),r=new RegExp(Object.keys(n).join("|"),"g");function s(e,t){return null==t&&(t=","),e.length<=0?new o([""],[]):new o(["",...Array(e.length-1).fill(t),""],e)}t.join=s,t.safe=function(e){return new o([String(e)],[])};class o{constructor(e,t){this._parts=e,this._subs=t}toString(){return this._parts.reduce(((e,t,i)=>{return e+((a=this._subs[i-1])instanceof o?a.toString():Array.isArray(a)?s(a,"").toString():String(a).replace(r,(e=>n[e])))+t;var a}))}[i](){return`HtmlSafeString '${this.toString()}'`}}t.HtmlSafeString=o,t.default=function(e,...t){return new o(e,t)}})),n("client/escape-html-template-tag/index",["require","exports","client/escape-html-template-tag/escape"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n=a(n),t.default=Object.assign(n.default,{default:n.default,join:n.join,safe:n.safe})})),n("client/notify",["require","exports","client/escape-html-template-tag/index"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Notify=void 0,n=l(n);class i{static notify(e,t,i,r,s,o){"function"==typeof $.notifyClose&&$.notifyClose(),$.notify({icon:s,title:e,message:t,url:""},{element:"body",type:o,allow_dismiss:!0,placement:{from:i,align:r},offset:{x:15,y:15},spacing:10,z_index:1080,delay:2500,url_target:"_blank",mouse_over:!1,animate:{enter:void 0,exit:void 0},template:(e,t,i)=>n.default`
                    <div data-notify="container" class="alert alert-dismissible alert-${e} alert-notify" role="alert">
                        <span class="alert-icon" data-notify="icon"></span>
                        <div class="alert-text">
                        <span class="alert-title" data-notify="title">${t}</span>
                        <span data-notify="message">${i}</span>
                        </div>
                        <button type="button" class="close" data-notify="dismiss" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>`.toString()})}static async alert(e,t,n,i){let r="danger"===n?"error":n;return new Promise((s=>{swal({title:e,text:t,type:r,buttonsStyling:!1,confirmButtonClass:"btn btn-"+n,onClose:s,allowEnterKey:!0,onBeforeOpen:e=>{e.id="notify-"+ ++this._notifyId,i&&i(e)}})}))}static async confirm(e,t,n,i,r){return!(await swal({title:e,text:t,type:i,cancelButtonClass:"btn",showCancelButton:!0,buttonsStyling:!1,confirmButtonClass:"btn btn-"+r,confirmButtonText:n,allowEnterKey:!0,closeOnConfirm:!0,reverseButtons:!0,onBeforeOpen:e=>{e.id="notify-"+ ++this._notifyId;let t=e.querySelector(".swal2-question");t&&(t.classList.add("text-"+r),t.classList.add("border-"+r))}})).dismiss}static async prompt(e,t,n,i,r,s){let o=await swal({title:e,text:t,type:r,cancelButtonClass:"btn",showCancelButton:!0,buttonsStyling:!1,confirmButtonClass:"btn btn-"+s,confirmButtonText:n,allowEnterKey:!0,closeOnConfirm:!0,reverseButtons:!0,input:"text",inputValue:i,onBeforeOpen:e=>{e.id="notify-"+ ++this._notifyId;let t=e.querySelector(".swal2-question");t&&(t.classList.add("text-"+s),t.classList.add("border-"+s))},onOpen:e=>{let t=e.querySelector(".swal2-input");t&&(t.focus(),t.select())}});return!o.dismiss&&(o.value||"")}}t.Notify=i,i._notifyId=0})),n("client/camera-collection-views",["require","exports","client/settings","client/sensors/camera","client/uploader","client/classification-loader","client/messages","client/notify","client/utils"],(function(e,t,n,i,r,s,o,a,l){Object.defineProperty(t,"__esModule",{value:!0}),t.CameraDataCollectionClientViews=void 0,t.CameraDataCollectionClientViews=class{constructor(){this._views={loading:document.querySelector("#loading-view"),qrcode:document.querySelector("#qrcode-view"),connectionFailed:document.querySelector("#remote-mgmt-failed"),capture:document.querySelector("#capture-camera"),permission:document.querySelector("#permission-view")},this._elements={deviceId:document.querySelector("#connected-device-id"),connectionFailedMessage:document.querySelector("#connection-failed-message"),grantPermission:document.querySelector("#grant-permissions-button"),loadingText:document.querySelector("#loading-view-text"),captureButton:document.querySelector("#capture-camera-button"),labelLink:document.querySelector("#camera-label-link"),labelText:document.querySelector("#camera-label-text"),categoryLink:document.querySelector("#camera-category-link"),categoryText:document.querySelector("#camera-category-text"),categorySelect:document.querySelector("#camera-category-select"),capturedCount:document.querySelector("#images-capture-count")},this._sensors=[],this._numCaptures=0,this._hmacKey="0"}async init(){var e,t,s,c,u;(0,n.storeDeviceId)((0,n.getDeviceId)());const d=new i.CameraSensor;if(!await d.hasSensor())return this._elements.connectionFailedMessage.textContent="No camera detected",void this.switchView(this._views.connectionFailed);this._sensors.push(d),this._elements.categoryText.style.display="none",null===(e=this._elements.categoryText.parentNode)||void 0===e||e.insertBefore(this._elements.categorySelect,this._elements.categoryText);const h=this._auth=(0,n.getAuth)();if(h&&"apiKey"===h.auth){(0,n.storeApiKeyAndImpulseId)(h.apiKey,h.impulseId);const e=new URLSearchParams(window.location.search);e.delete("apiKey"),e.delete("studio"),e.delete("env"),window.history.replaceState(null,"",window.location.pathname+(e.toString().length>0)?`?${e.toString()}`:"");try{this.switchView(this._views.loading);let n=await this.getDevelopmentApiKeys(h);n.hmacKey&&(this._hmacKey=n.hmacKey);const i={label:null!==(s=null!==(t=e.get("label"))&&void 0!==t?t:localStorage.getItem("last-camera-label"))&&void 0!==s?s:"unknown",category:null!==(u=null!==(c=e.get("category"))&&void 0!==c?c:localStorage.getItem("last-camera-category"))&&void 0!==u?u:"split"};-1===["training","testing","split"].indexOf(i.category)&&(i.category="split"),console.log("onStartState",i),this._elements.labelText.dataset.label=i.label,this._elements.labelText.textContent=""===i.label?"Unlabeled":i.label,this._elements.categoryText.textContent=i.category,this._elements.categorySelect.value=i.category,localStorage.setItem("last-camera-label",i.label),localStorage.setItem("last-camera-category",i.category),this._uploader=new r.Uploader(h.apiKey),this._elements.grantPermission.textContent="Give access to the camera";let o=this._sensors.find((e=>"camera"===e.getProperties().name.toLowerCase()));o&&await o.checkPermissions(!1)?(console.log("sensor checkPermissions OK"),this.grantPermission()):(this.switchView(this._views.permission),this._elements.grantPermission.onclick=e=>{this.grantPermission()})}catch(e){console.error("Failed to load",e),this._elements.connectionFailedMessage.textContent=(0,l.getErrorMsg)(e),this.switchView(this._views.connectionFailed)}}else this.switchView(this._views.qrcode);this._elements.captureButton.onclick=async e=>{if(e.preventDefault(),!this._uploader)return;let t=this._elements.captureButton.innerHTML;try{this._elements.captureButton.innerHTML='<i class="fa fa-camera mr-2"></i>Uploading...',this._elements.captureButton.classList.add("disabled"),console.log("gonna take sample");let e=await d.takeSnapshot({});if(console.log("took sample"),!e.attachments||0===e.attachments.length||!e.attachments[0].value)throw new Error("Attachment is supposed to present");if(!this._auth||"apiKey"!==this._auth.auth)throw new Error("Not authenticated");let t=this._elements.categoryText.textContent||"training";"split"===this._elements.categoryText.textContent&&(t=this._numCaptures>0?await this.getCategoryFromBlob(e.attachments[0].value):"training"),this._numCaptures=this._numCaptures+1;let i={hmacKey:this._hmacKey,interval:0,label:""!==(this._elements.labelText.dataset.label||"")?this._elements.labelText.dataset.label:void 0,length:0,path:"/api/"+t+"/data",sensor:"Camera"},r=(0,o.dataMessage)({apiKey:this._auth.apiKey,device:{deviceId:(0,n.getDeviceId)(),sensors:[d].map((e=>{let t=e.getProperties();return{name:t.name,frequencies:t.frequencies,maxSampleLength:t.maxSampleLength}})),deviceType:"MOBILE_CLIENT"}},e);console.log("details",i,"data",r,"sample",e),(async()=>{if(this._uploader)try{let n=await this._uploader.uploadSample(i,r,e);$.notifyClose(),a.Notify.notify("",'Uploaded "'+n+'" to '+t+" category","top","center","far fa-check-circle","success")}catch(e){$.notifyClose(),a.Notify.notify("Failed to upload",(0,l.getErrorMsg)(e),"top","center","far fa-times-circle","danger")}})(),await this.sleep(100);let s=Number(this._elements.capturedCount.textContent||"0");this._elements.capturedCount.textContent=(s+1).toString()}catch(e){alert("Failed to upload: "+(0,l.getErrorMsg)(e))}finally{this._elements.captureButton.innerHTML=t,this._elements.captureButton.classList.remove("disabled")}},this._elements.labelLink.onclick=async e=>{var t,n;e.preventDefault();const i=await a.Notify.prompt("Enter a label","","Set label",null!==(n=null!==(t=this._elements.labelText.dataset.label)&&void 0!==t?t:this._elements.labelText.textContent)&&void 0!==n?n:"","info","info");!1!==i&&(i&&this._elements.labelText.textContent!==i&&(this._elements.capturedCount.textContent="0"),this._elements.labelText.textContent=i||"Unlabeled",this._elements.labelText.dataset.label=i,localStorage.setItem("last-camera-label",i))},this._elements.categorySelect.oninput=()=>{this._elements.categoryText.textContent!==this._elements.categorySelect.value&&(this._elements.capturedCount.textContent="0"),this._elements.categoryText.textContent=this._elements.categorySelect.value,localStorage.setItem("last-camera-category",this._elements.categoryText.textContent)},this._elements.categoryLink.onclick=e=>{e.preventDefault(),console.log("category link click",e);let t,n=this._elements.categorySelect;t=document.createEvent("MouseEvents"),t.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}switchView(e){for(const e of Object.keys(this._views))this._views[e].style.display="none";e.style.display=""}grantPermission(){let e=this._sensors.find((e=>"camera"===e.getProperties().name.toLowerCase()));if(!e)return this._elements.connectionFailedMessage.textContent="Could not find camera",void this.switchView(this._views.connectionFailed);e.checkPermissions(!0).then((e=>{e?(this.switchView(this._views.capture),this._elements.labelText.textContent||this._elements.labelLink.click()):alert("User has rejected camera permissions")})).catch((e=>{console.error(e),this._elements.connectionFailedMessage.textContent=e,this.switchView(this._views.connectionFailed)}))}sleep(e){return new Promise((t=>setTimeout(t,e)))}async getDevelopmentApiKeys(e){let t=new s.ClassificationLoader((0,n.getStudioEndpoint)(),e),i=await t.getProject();try{return await t.getDevelopmentKeys(i.id)}catch(e){return console.warn("Could not find development keys for project "+i,e),{apiKey:void 0,hmacKey:void 0}}}async getCategoryFromBlob(e){let t=await new Promise(((t,n)=>{let i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=async()=>{if(!i.result||"string"==typeof i.result)return n("Failed to calculate hash "+i.error);let e=await crypto.subtle.digest("SHA-256",i.result);const r=Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("");t(r)}}));for(;t.length>0&&"f"===t[0];)t=t.substr(1);if(0===t.length)throw new Error("Failed to calculate SHA256 hash of buffer");let n=t[0];return["0","1","2","3","4","5","6","7","8","9","a","b"].indexOf(n)>-1?"training":"testing"}}})),n("client/sensors/accelerometer",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AccelerometerSensor=void 0,t.AccelerometerSensor=class{constructor(){this._permissionGranted=!1}async hasSensor(){return"undefined"!=typeof DeviceMotionEvent}async checkPermissions(e){if(!await this.hasSensor())throw new Error("Accelerometer not present on this device");return"function"!=typeof DeviceMotionEvent.requestPermission||this._permissionGranted?Promise.resolve(!0):DeviceMotionEvent.requestPermission().then((e=>"granted"===e)).catch((e=>{if(("string"==typeof e?e:e.message||e.toString()).indexOf("requires a user gesture to prompt")>-1)return Promise.resolve(!1);throw e}))}getProperties(){return{name:"Accelerometer",maxSampleLength:300,frequencies:[62.5]}}takeSample(e){return new Promise(((t,n)=>{if(!e.frequency)throw new Error("Frequency not specified");if(!e.length)throw new Error("Frequency not specified");let i,r,s=e.frequency,o=e.length,a=[],l=!0;const c=window.setTimeout((()=>{if(0===a.length)return clearInterval(r),n("Was not able to capture any measurements from this device. This is probably a permission issue on the mobile client.")}),1e3),u=e=>{e.accelerationIncludingGravity&&(l&&(l=!1,console.log("setting interval",1e3/s,"length",o),r=setInterval((()=>{i&&a.push([i.x,i.y,i.z])}),1e3/s),setTimeout((()=>{clearTimeout(c),clearInterval(r),window.removeEventListener("devicemotion",u),console.log("done",a.length,"samples"),t({values:a.slice(0,Math.floor(o/(1e3/s))),intervalMs:1e3/s,sensors:[{name:"accX",units:"m/s2"},{name:"accY",units:"m/s2"},{name:"accZ",units:"m/s2"}]})}),o+200)),i={x:e.accelerationIncludingGravity.x||0,y:e.accelerationIncludingGravity.y||0,z:e.accelerationIncludingGravity.z||0})};window.addEventListener("devicemotion",u)}))}}})),n("client/sensors/microphone",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MicrophoneSensor=void 0,t.MicrophoneSensor=class{constructor(){this._constraints={audio:!0,video:!1},void 0===window.AudioContext&&void 0===window.webkitAudioContext||(this._audioContext=new(window.AudioContext||window.webkitAudioContext))}async hasSensor(){return void 0!==window.AudioContext||void 0!==window.webkitAudioContext}async checkPermissions(e){var t;if(!await this.hasSensor())throw new Error("Microphone not present on this device");return!!this._recorder||!!e&&("suspended"===(null===(t=this._audioContext)||void 0===t?void 0:t.state)&&await this._audioContext.resume(),this._stream=await navigator.mediaDevices.getUserMedia(this._constraints),!0)}getProperties(){return{name:"Microphone",maxSampleLength:60,frequencies:[16e3,8e3,11e3,32e3,44100,48e3]}}takeSample(e){return new Promise(((t,n)=>{if(!this._stream)return n("No audio stream");if(!e.frequency)throw new Error("Frequency not specified");if(!e.length)throw new Error("Frequency not specified");let i=e.length,r=e.frequency;if(!this._audioContext)return n("No audio context");let s=this._audioContext.createMediaStreamSource(this._stream);this._recorder?this._recorder.clear():(this._recorder=new Recorder(s,{numChannels:1}),this._recorder.record()),setTimeout((()=>{this._stream&&(e.processing&&e.processing(),this._recorder&&this._recorder.exportWAV((async e=>{let n=await new Response(e).arrayBuffer();console.log("done recording",n.byteLength);let s=new Int16Array(n,44),o=[];for(let e of s)o.push(e);t({values:o.slice(0,i*(r/1e3)),intervalMs:1e3/r,sensors:[{name:"audio",units:"wav"}]})}),void 0,r))}),e.continuousMode?i:i+100)}))}}})),n("client/sensors/9axisIMU",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Positional9DOFSensor=void 0,t.Positional9DOFSensor=class{constructor(){this._permissionGranted=!1}async hasSensor(){return"undefined"!=typeof DeviceMotionEvent&&"undefined"!=typeof DeviceOrientationEvent}async checkPermissions(e){if(!await this.hasSensor())throw new Error("9DOF not present on this device");if("function"!=typeof DeviceMotionEvent.requestPermission)return!0;if(this._permissionGranted)return!0;try{return"granted"===await DeviceMotionEvent.requestPermission()}catch(e){if((e instanceof Error?e.message||e.toString():""+e).indexOf("requires a user gesture to prompt")>-1)return!1;throw e}}getProperties(){return{name:"Positional",maxSampleLength:300,frequencies:[62.5]}}takeSample(e){return new Promise(((t,n)=>{if(!e.frequency)throw new Error("Frequency not specified");if(!e.length)throw new Error("Time length not specified");let i,r=e.frequency,s=e.length,o={x:0,y:0,z:0,rx:0,ry:0,rz:0,yaw:0,pitch:0,roll:0},a=[];const l=window.setTimeout((()=>{if(0===a.length)return clearInterval(i),n("Was not able to capture any measurements from this device. This is probably a permission issue on the mobile client.")}),1e3);console.log("setting interval",1e3/r,"length",s),i=setInterval((()=>{a.push([o.x,o.y,o.z,o.rx,o.ry,o.rz,o.yaw,o.pitch,o.roll])}),1e3/r),setTimeout((()=>{clearTimeout(l),clearInterval(i),window.removeEventListener("devicemotion",c),console.log("done",a.length,"samples"),t({values:a.slice(0,Math.floor(s/(1e3/r))),intervalMs:1e3/r,sensors:[{name:"accX",units:"m/s2"},{name:"accY",units:"m/s2"},{name:"accZ",units:"m/s2"},{name:"gyroX",units:"deg/s"},{name:"gyroY",units:"deg/s"},{name:"gyroZ",units:"deg/s"},{name:"yaw",units:"deg"},{name:"pitch",units:"deg"},{name:"roll",units:"deg"}]})}),s+200);const c=e=>{var t,n,i,r,s,a;o.x=(null===(t=e.accelerationIncludingGravity)||void 0===t?void 0:t.x)||0,o.y=(null===(n=e.accelerationIncludingGravity)||void 0===n?void 0:n.y)||0,o.z=(null===(i=e.accelerationIncludingGravity)||void 0===i?void 0:i.z)||0,o.rx=(null===(r=e.rotationRate)||void 0===r?void 0:r.beta)||0,o.ry=(null===(s=e.rotationRate)||void 0===s?void 0:s.gamma)||0,o.rz=(null===(a=e.rotationRate)||void 0===a?void 0:a.alpha)||0};window.addEventListener("devicemotion",c),window.addEventListener("deviceorientation",(e=>{o.yaw=e.alpha||0,o.pitch=e.beta||0,o.roll=e.gamma||0}))}))}}})),n("client/classification-views",["require","exports","client/settings","client/sensors/accelerometer","client/sensors/microphone","client/sensors/camera","client/sensors/9axisIMU","client/classification-loader","client/notify","client/utils"],(function(e,t,n,i,r,s,o,a,l,c){Object.defineProperty(t,"__esModule",{value:!0}),t.ClassificationClientViews=void 0,t.ClassificationClientViews=class{constructor(){this._views={loading:document.querySelector("#loading-view"),qrcode:document.querySelector("#qrcode-view"),connectionFailed:document.querySelector("#remote-mgmt-failed"),selectSensor:document.querySelector("#permission-view"),inferencing:document.querySelector("#inferencing-in-progress")},this._elements={title:document.querySelector("h1"),deviceId:document.querySelector("#connected-device-id"),connectionFailedMessage:document.querySelector("#connection-failed-message"),loadingText:document.querySelector("#loading-view-text"),grantPermission:document.querySelector("#grant-permissions-button"),inferencingSamplingBody:document.querySelector("#inferencing-sampling-body"),inferencingTimeLeft:document.querySelector("#inferencing-time-left"),inferencingMessage:document.querySelector("#inferencing-recording-data-message"),inferencingResult:document.querySelector("#inferencing-result"),inferencingResultTable:document.querySelector("#inferencing-result table"),perfCalHint:document.querySelector("#performance-calibration-hint"),buildProgress:document.querySelector("#build-progress"),inferenceCaptureBody:document.querySelector("#capture-camera"),inferenceCaptureButton:document.querySelector("#capture-camera-button"),inferenceRecordingMessageBody:document.querySelector("#inference-recording-message-body"),switchToDataCollection:document.querySelector("#switch-to-data-collection"),cameraInner:document.querySelector(".capture-camera-inner"),cameraVideo:document.querySelector(".capture-camera-inner video"),cameraCanvas:document.querySelector(".capture-camera-inner canvas"),timePerInferenceContainer:document.querySelector("#time-per-inference-container"),timePerInference:document.querySelector("#time-per-inference"),shareHint:document.querySelector("#inferencing-public-project-hint")},this._sensors=[],this._firstInference=!0,this._inferenceCount=0,this._isObjectDetection=!1,this._colors=["#e6194B","#3cb44b","#ffe119","#4363d8","#f58231","#42d4f4","#f032e6","#fabed4","#469990","#dcbeff","#9A6324","#fffac8","#800000","#aaffc3"],this._labelToColor={}}async init(){(0,n.storeDeviceId)((0,n.getDeviceId)());const e=new i.AccelerometerSensor;await e.hasSensor()&&(console.log("has accelerometer"),this._sensors.push(e));const t=new r.MicrophoneSensor;await t.hasSensor()&&(console.log("has microphone"),this._sensors.push(t));const l=new s.CameraSensor;await l.hasSensor()&&(console.log("has camera"),this._sensors.push(l));const u=new o.Positional9DOFSensor;await u.hasSensor()&&(console.log("has 9-axis positional sensors"),this._sensors.push(u)),window.location.search.indexOf("from=camera")>-1&&(this._elements.switchToDataCollection.href="camera.html"),window.location.search.indexOf("from=microphone")>-1&&(this._elements.switchToDataCollection.href="microphone.html"),window.location.search.indexOf("from=accelerometer")>-1&&(this._elements.switchToDataCollection.href="accelerometer.html");const d=(0,n.getAuth)();if(d){let i=new a.ClassificationLoader((0,n.getStudioEndpoint)(),d);const r=await i.getProject();r&&(this._elements.title.textContent=this._elements.title.title=r.owner+" / "+r.name),"apiKey"===d.auth?((0,n.storeApiKeyAndImpulseId)(d.apiKey,d.impulseId),window.history.replaceState(null,"",window.location.pathname),this._elements.shareHint.style.display="none"):(r&&(this._elements.switchToDataCollection.href=r.studioUrl,this._elements.switchToDataCollection.target="_blank",this._elements.switchToDataCollection.textContent="View project on Edge Impulse"),this._elements.shareHint.style.display=""),this._elements.loadingText.textContent="Loading classifier...",(async()=>{i.on("status",(e=>{console.log("status",e),this._elements.loadingText.textContent=e})),i.on("buildProgress",(e=>{console.log("buildProgress",e),"string"==typeof e?(this._elements.buildProgress.style.display="block",this._elements.buildProgress.textContent=e||" "):this._elements.buildProgress.style.display="none"}));try{this._classifier=await i.load();let n=this._classifier.getProperties();if("microphone"===n.sensor&&!await t.hasSensor())throw new Error("Model expects microphone, but device has none");if("accelerometer"===n.sensor&&!await e.hasSensor())throw new Error("Model expects accelerometer, but device has none");if("camera"===n.sensor&&!await l.hasSensor())throw new Error("Model expects camera, but device has none");if("positional"===n.sensor&&!await u.hasSensor())throw new Error("Model expects positional sensors, but device has none");if("accelerometer"===n.sensor)this._elements.grantPermission.textContent="Give access to the accelerometer";else if("microphone"===n.sensor)this._elements.grantPermission.textContent="Give access to the microphone";else if("camera"===n.sensor)this._elements.grantPermission.textContent="Give access to the camera";else{if("positional"!==n.sensor)throw new Error("Unexpected sensor: "+n.sensor);this._elements.grantPermission.textContent="Give access to the motion sensors"}let r=this._sensors.find((e=>e.getProperties().name.toLowerCase()===n.sensor));r&&await r.checkPermissions(!1)?(console.log("sensor checkPermissions OK"),this.grantPermission()):this.switchView(this._views.selectSensor)}catch(e){console.error("Failed to load",e);const t=(0,c.getErrorMsg)(e);t.indexOf("No deployment yet")>-1?this._elements.connectionFailedMessage.innerHTML="No deployment yet. Go to the <strong>Deployment</strong> page in the Edge Impulse studio, and deploy as WebAssembly.":this._elements.connectionFailedMessage.textContent=t,this.switchView(this._views.connectionFailed)}finally{this._elements.buildProgress.style.display="none"}})()}else this.switchView(this._views.qrcode);this._elements.grantPermission.onclick=this.grantPermission.bind(this)}switchView(e){for(const e of Object.keys(this._views))this._views[e].style.display="none";e.style.display=""}grantPermission(){if(!this._classifier)return;let e=this._classifier.getProperties(),t=this._sensors.find((t=>t.getProperties().name.toLowerCase()===e.sensor));if(!t)return this._elements.connectionFailedMessage.textContent="Could not find sensor "+e.sensor,void this.switchView(this._views.connectionFailed);t.checkPermissions(!0).then((n=>{if(n){this.switchView(this._views.inferencing),console.log("prop",e),"camera"===e.sensor?(this._elements.inferencingSamplingBody.style.display="none",this._elements.inferenceCaptureBody.style.display="",this._elements.inferenceRecordingMessageBody.style.display="none"):(this._elements.inferencingSamplingBody.style.display="",this._elements.inferenceCaptureBody.style.display="none",this._elements.inferenceRecordingMessageBody.style.display=""),this._elements.timePerInferenceContainer.style.display="none";let n=e.inputFeaturesCount*(1e3/e.frequency);this._elements.inferencingTimeLeft.textContent="Waiting",this._elements.inferencingMessage.textContent="Starting in 2 seconds...";const i=async()=>{var r;if(!t||!this._classifier)return;let s;if(this._elements.inferencingMessage.textContent="Sampling...","camera"!==e.sensor){let e=n;this._elements.inferencingTimeLeft.textContent=Math.round(e/1e3)+"s",s=setInterval((()=>{e-=1e3,this._elements.inferencingTimeLeft.textContent=Math.round(e/1e3)+"s"}),1e3)}try{let o={};"camera"===e.sensor?(o.mode="raw",o.inputWidth=e.imageInputWidth,o.inputHeight=e.imageInputHeight):(o.length=n,o.frequency=e.frequency);let a,l=await t.takeSample(o);if(s&&clearInterval(s),"camera"===e.sensor)if(console.log("classification disable button"),this._elements.inferenceCaptureButton.innerHTML='<i class="fa fa-camera mr-2"></i>Inferencing...',this._elements.inferenceCaptureButton.classList.add("disabled"),t.pause(),this._isObjectDetection){for(let e of Array.from(this._elements.cameraInner.querySelectorAll(".bounding-box-container")))null===(r=e.parentNode)||void 0===r||r.removeChild(e);await this.sleep(1)}else await this.sleep(1);else this._elements.inferencingMessage.textContent="Inferencing...",await this.sleep(300);a=l.values[0]instanceof Array?l.values.reduce(((e,t)=>e.concat(t)),[]):l.values,console.time("inferencing");let c=this._classifier.classify(a,!1);if(console.timeEnd("inferencing"),console.log("inference results",c),await this.renderInferenceResults(c,e,{showNoObjectsFoundNotification:!0}),"camera"===e.sensor){console.log("classification enable button again"),this._elements.inferenceCaptureBody.style.display="initial",this._elements.inferenceRecordingMessageBody.style.display="none",this._elements.inferenceCaptureButton.classList.remove("disabled"),this._elements.inferenceCaptureButton.innerHTML='<i class="fa fa-camera mr-2"></i>Next photo';let e=async n=>{var i;n.preventDefault(),n.stopImmediatePropagation(),this._elements.inferenceCaptureButton.removeEventListener("click",e);let r=t;if(r.isPaused()){for(let e of Array.from(this._elements.cameraInner.querySelectorAll(".bounding-box-container")))null===(i=e.parentNode)||void 0===i||i.removeChild(e);this._elements.inferenceCaptureButton.innerHTML='<i class="fa fa-camera mr-2"></i>Classify',await r.resume()}};this._elements.inferenceCaptureButton.addEventListener("click",e),setTimeout(i,0)}else{let e=2;this._elements.inferenceCaptureBody.style.display="none",this._elements.inferenceRecordingMessageBody.style.display="initial",this._elements.inferencingTimeLeft.textContent="Waiting",this._elements.inferencingMessage.textContent=`Starting in ${e} seconds...`,setTimeout(i,1e3*e)}}catch(e){clearInterval(s),console.error(e),this._elements.connectionFailedMessage.textContent=(0,c.getErrorMsg)(e),this.switchView(this._views.connectionFailed)}};if("camera"===e.sensor)return this.sampleImagesContinuous(t,e);if("microphone"===e.sensor&&t)return this.sampleAudioContinuous(t,e);setTimeout(i,2e3)}else alert("User has rejected "+e.sensor+" permissions")})).catch((e=>{console.error(e),this._elements.connectionFailedMessage.textContent=e,this.switchView(this._views.connectionFailed)}))}sleep(e){return new Promise((t=>{setTimeout(t,e)}))}async sampleAudioContinuous(e,t){if(!e||!this._classifier)return;if("microphone"!==t.sensor)throw new Error("Sensor is not microphone, cannot do continuous audio sampling");const n=t.inputFeaturesCount*(1e3/t.frequency);document.body.classList.add("continuous-audio"),this._elements.inferencingTimeLeft.textContent="Listening...";let i,r=!1,s=Date.now();i=t.continuousMode?t.continuousMode.sliceSize*(1e3/t.frequency):250-n%250;let o=[];const a=async e=>{try{if(!this._classifier)return;if(r)return;let n;r=!0,console.log(Date.now()-s,"data",e.length),s=Date.now(),console.time("inferencing"),t.continuousMode?(console.log("classifyContinuous"),n=this._classifier.classifyContinuous(e.slice(e.length-t.continuousMode.sliceSize),!1,!0)):(console.log("classify"),n=this._classifier.classify(e,!1)),console.timeEnd("inferencing"),console.log("inference results",n),await this.renderInferenceResults(n,t,{activeTimeout:i,showNoObjectsFoundNotification:!0});let a=n.results.map((e=>e.label));if(3===a.length&&a.indexOf("unknown")>-1&&a.indexOf("noise")>-1){let e=a.find((e=>"noise"!==e&&"unknown"!==e)),t=e?n.results.find((t=>t.label===e)):void 0;t&&t.value>=.8?o.push(t.label):o.push("..."),o.length>5&&(o=o.slice(1)),t&&o.indexOf(t.label)>-1?this._elements.inferencingMessage.textContent=t.label:this._elements.inferencingMessage.textContent="..."}else{let e=n.results.find((e=>e.value>=t.classificationThreshold));e?this._elements.inferencingMessage.textContent=e.label:t.continuousMode?this._elements.inferencingMessage.textContent="No event detected":this._elements.inferencingMessage.textContent="uncertain"}r=!1}catch(e){let t=e;this._elements.connectionFailedMessage.textContent=t.message||t.toString(),this.switchView(this._views.connectionFailed)}};(async()=>{try{let n=[];for(;;){let r={length:i,frequency:t.frequency,continuousMode:!0},s=(await e.takeSample(r)).values;n=n.concat(s),n.length>=t.inputFeaturesCount&&setTimeout((()=>{a(n.slice(n.length-t.inputFeaturesCount))}),0)}}catch(e){let t=e;this._elements.connectionFailedMessage.textContent=t.message||t.toString(),this.switchView(this._views.connectionFailed)}})()}async sampleImagesContinuous(e,t){if(this._classifier)for(this._elements.timePerInferenceContainer.style.display="",this._elements.timePerInference.textContent="-";;){let n={mode:"raw",inputWidth:t.imageInputWidth,inputHeight:t.imageInputHeight};this._elements.inferenceCaptureButton.innerHTML='<i class="fa fa-camera mr-2"></i>Inferencing...',this._elements.inferenceCaptureButton.classList.add("disabled");let i,r=await e.takeSnapshot(n);await this.sleep(1),i=r.values[0]instanceof Array?r.values.reduce(((e,t)=>e.concat(t)),[]):r.values,console.time("inferencing");let s=Date.now(),o=this._classifier.classify(i,!1),a=Date.now()-s;if(0===a&&(a=1),console.timeEnd("inferencing"),console.log("inference results",o),await this.renderInferenceResults(o,t,{showNoObjectsFoundNotification:!1}),this._elements.timePerInference.textContent=a.toString(),console.log("prop.modelType",t.modelType),"classification"===t.modelType)if(this._elements.inferenceRecordingMessageBody.style.display="",this._elements.inferenceRecordingMessageBody.classList.remove("pt-0"),this._elements.inferenceRecordingMessageBody.classList.add("pt-4"),t.hasVisualAnomalyDetection&&o.visual_ad_grid_cells.length>0)this._elements.inferencingMessage.textContent="anomaly";else{let e=o.results.find((e=>e.value>=t.classificationThreshold));this._elements.inferencingMessage.textContent=e?e.label:"uncertain"}}}async renderInferenceResults(e,t,n){var i;const r=n.activeTimeout||1e3;if(this._firstInference&&(t.isPerformanceCalibrationEnabled?this._elements.perfCalHint.style.display="":this._elements.perfCalHint.style.display="none"),this._firstInference&&e.results.length>0&&(this._firstInference=!1,this._isObjectDetection="number"==typeof e.results[0].x,!this._isObjectDetection)){this._elements.inferencingResult.style.visibility="";let t=this._elements.inferencingResultTable.querySelector("thead tr");for(let n of e.results){let e=document.createElement("th");e.scope="col",e.textContent=n.label,e.classList.add("px-0","text-center"),t.appendChild(e)}if(0!==e.anomaly){let e=document.createElement("th");e.scope="col",e.textContent="anomaly",e.classList.add("px-0","text-center"),t.appendChild(e)}if(e.has_visual_anomaly_detection){let e=document.createElement("th");e.scope="col",e.textContent="anomaly",e.classList.add("px-0","text-center"),t.appendChild(e)}t.lastChild&&t.lastChild.classList.add("pr-4")}for(let e of Array.from(this._elements.cameraInner.querySelectorAll(".bounding-box-container")))null===(i=e.parentNode)||void 0===i||i.removeChild(e);let s=Number(this._elements.cameraCanvas.height)/Number(this._elements.cameraVideo.clientHeight),o=Number(this._elements.cameraCanvas.width)/Number(this._elements.cameraVideo.clientWidth);if(!this._isObjectDetection&&e.results.length>0){let t=this._elements.inferencingResultTable.querySelector("tbody"),n=document.createElement("tr");n.innerHTML='<td class="pl-4 pr-0">'+ ++this._inferenceCount+"</td>",n.classList.add("active"),setTimeout((()=>{n.classList.remove("active")}),r);for(let t of e.results){let i=document.createElement("td");i.textContent=t.value.toFixed(2),i.classList.add("px-0","text-center"),Math.max(...e.results.map((e=>e.value)))===t.value&&0===e.visual_ad_grid_cells.length?i.classList.add("font-weight-bold"):i.classList.add("text-gray"),n.appendChild(i)}if(0!==e.anomaly){let t=document.createElement("td");t.textContent=e.anomaly.toFixed(2),t.classList.add("px-0","text-center"),n.appendChild(t)}if(e.has_visual_anomaly_detection){let t=document.createElement("td");t.textContent=(e.visual_ad_max||0).toFixed(2),t.classList.add("px-0","text-center"),e.visual_ad_grid_cells.length>0?t.classList.add("font-weight-bold"):t.classList.add("text-gray"),n.appendChild(t)}n.lastChild&&n.lastChild.classList.add("pr-4"),0===t.childNodes.length?t.appendChild(n):t.insertBefore(n,t.firstChild)}else{0===e.results.length&&0===e.visual_ad_grid_cells.length&&n.showNoObjectsFoundNotification&&l.Notify.notify("","No objects found","top","center","fas fa-exclamation-triangle","success");for(let n of e.results){if("number"!=typeof n.x||"number"!=typeof n.y||"number"!=typeof n.width||"number"!=typeof n.height)continue;let e={x:n.x/o,y:n.y/s,width:n.width/o,height:n.height/s,label:n.label,value:n.value};this._labelToColor[e.label]||(this._labelToColor[e.label]=this._colors[0],this._colors.splice(0,1));let i=this._labelToColor[e.label],r=document.createElement("div");if(r.classList.add("bounding-box-container"),r.style.position="absolute",r.style.border="solid 3px "+i,"object_detection"===t.modelType)r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.left=e.x+"px",r.style.top=e.y+"px";else if("constrained_object_detection"===t.modelType){let t=e.x+e.width/2,n=e.y+e.height/2;r.style.borderRadius="10px",r.style.width="20px",r.style.height="20px",r.style.left=t-10+"px",r.style.top=n-10+"px"}let a=document.createElement("div");a.classList.add("bounding-box-label"),a.style.background=i,a.textContent=e.label+" ("+e.value.toFixed(2)+")","constrained_object_detection"===t.modelType&&(r.style.whiteSpace="nowrap"),r.appendChild(a),this._elements.cameraInner.appendChild(r)}}for(let t of e.visual_ad_grid_cells){if("number"!=typeof t.x||"number"!=typeof t.y||"number"!=typeof t.width||"number"!=typeof t.height)continue;let e={x:t.x/o,y:t.y/s,width:t.width/o,height:t.height/s,label:t.label,value:t.value},n=document.createElement("div");n.classList.add("bounding-box-container"),n.style.position="absolute",n.style.background="rgba(255, 0, 0, 0.5)",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.left=e.x+"px",n.style.top=e.y+"px";let i=document.createElement("div");i.style.fontSize=`${Math.min(20,.4*e.width)}px`,i.style.color="white",i.textContent=e.value>1?e.value.toFixed(1):e.value.toFixed(2),n.appendChild(i),n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",this._elements.cameraInner.appendChild(n)}}}})),n("client/mobile-studio-shared/find-segments",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FindSegments=void 0,t.FindSegments=class{findSegments(e,t,n,i){let r;r="number"==typeof e[0]?e:e.map((e=>e.reduce(((e,t)=>e+Math.abs(t)),0)));let s,o=Math.ceil(.85*t),a=this.findPeaks(r,o),l=a.map((e=>{let s=Math.max(e-o,0),a=Math.min(e+o,r.length-1),l=[],c=Math.floor(.02*n);c<1&&(c=1);let u=Math.floor(.02*n);u<1&&(u=1);for(let e=s;e<a-c;e+=u){let t=r.slice(e,e+c).map((e=>e*e)).reduce(((e,t)=>e+t),0);l.push({start:e,end:e+c,energy:t})}let d=1.2*this.avg(l.map((e=>e.energy)));if(l=l.filter((e=>e.energy>d)),0===l.length)return;let h,f=[];for(let e of l)h?e.start-h.end<Math.floor(.2*n)?(h.end=e.end,h.energy+=e.energy):(f.push(h),h=e):h=e;h&&f.push(h);let p=Math.max(...f.map((e=>e.energy))),m=f.find((e=>e.energy===p));if(!m)return{start:e-Math.floor(t/2),end:e+Math.floor(t/2)};let g=((m.end+m.start)/2+e)/2,y=g-Math.floor(t/2),v=g+Math.floor(t/2);if(i){let e=Math.random()>=.5?"left":"right",i=Math.floor(t-(m.end-m.start)-.1*n)/2;if(i>0){let t=Math.floor(i*Math.random());"left"===e?(y-=t,v-=t):(y+=t,v+=t)}}if(y<0){let e=0-y;y+=e,v+=e}if(v>r.length){let e=v-r.length;y-=e,v-=e}return{start:y,end:v}})),c=[];for(let e of l)if(void 0!==e){if(s&&e.start-s.end<-.15*t){let t=r[a.find((e=>e>=s.start))||0];if(!(r[a.find((t=>void 0!==e&&t>=e.start))||0]>t))continue;c.pop()}s=e,c.push(e)}return c}findPeaks(e,t){let n=this.avg(e),i=(e=e.map((e=>e-n))).map((e=>e*e)).reduce(((e,t)=>e+t))/e.length,r=2*Math.sqrt(i),s=[];for(let t=1;t<e.length-1;t++){let n=e[t-1],i=e[t+1];e[t]>=n&&e[t]>i&&e[t]>r&&s.push(t)}let o=s.map((t=>e[t])),a=s.length,l=Array.from(o).map(((e,t)=>({ix:t,value:e}))).sort(((e,t)=>t.value-e.value)).reverse(),c=new Array(s.length).fill(0);for(let e=0;e<l.length;e++)c[e]=l[e].ix;let u=new Array(s.length).fill(1);for(let e=a-1;e>=0;e--){let n=c[e];if(0===u[n])continue;let i=n-1;for(;0<=i&&s[n]-s[i]<t;)u[i]=0,i-=1;for(i=n+1;i<a&&s[i]-s[n]<t;)u[i]=0,i+=1}let d=[];for(let e=0;e<u.length;e++)1===u[e]&&d.push(s[e]);return d}avg(e){return e.reduce(((e,t)=>e+t),0)/e.length}}})),n("client/collection-keyword",["require","exports","client/settings","client/sensors/accelerometer","client/sensors/9axisIMU","client/sensors/microphone","client/sensors/camera","client/classification-loader","client/mobile-studio-shared/find-segments","client/uploader","client/messages"],(function(e,t,n,i,r,s,o,a,l,c,u){Object.defineProperty(t,"__esModule",{value:!0}),t.DataCollectionKeywordClientViews=void 0,t.DataCollectionKeywordClientViews=class{constructor(){this._views={loading:document.querySelector("#loading-view"),qrcode:document.querySelector("#qrcode-view"),connected:document.querySelector("#remote-mgmt-connected"),connectionFailed:document.querySelector("#remote-mgmt-failed"),sampling:document.querySelector("#sampling-in-progress"),permission:document.querySelector("#permission-view"),uploadSucceeded:document.querySelector("#upload-succeeded")},this._elements={projectName:document.querySelector("#connected-project-name"),keyword:document.querySelector("#keyword-name"),startSampling:document.querySelector("#start-sampling"),connectionFailedMessage:document.querySelector("#connection-failed-message"),samplingTimeLeft:document.querySelector("#sampling-time-left"),samplingRecordingStatus:document.querySelector("#sampling-recording-data-message"),samplingRecordingSensor:document.querySelector("#sampling-recording-sensor"),grantPermissionsBtn:document.querySelector("#grant-permissions-button"),loadingText:document.querySelector("#loading-view-text"),uploadSucceededProjectName:document.querySelector("#upload-succeeded-project-name"),uploadSucceededCount:document.querySelector("#upload-succeeded-count")},this._sensors=[],this._findSegments=new l.FindSegments}async init(){if((0,n.storeDeviceId)((0,n.getDeviceId)()),!(0,n.getKeyword)())return this._elements.connectionFailedMessage.textContent="Missing ?keyword= parameter in URL",this.switchView(this._views.connectionFailed);if(!(0,n.getSampleLength)()||isNaN((0,n.getSampleLength)()))return this._elements.connectionFailedMessage.textContent="Missing ?sampleLength= parameter in URL",this.switchView(this._views.connectionFailed);if(!(0,n.getFrequency)()||isNaN((0,n.getFrequency)()))return this._elements.connectionFailedMessage.textContent="Missing ?frequency= parameter in URL",this.switchView(this._views.connectionFailed);(0,n.storeKeyword)((0,n.getKeyword)()),(0,n.storeSampleLength)((0,n.getSampleLength)()),(0,n.storeFrequency)((0,n.getFrequency)()),this._elements.keyword.textContent=(0,n.getKeyword)();const e=new i.AccelerometerSensor;await e.hasSensor()&&(console.log("has accelerometer"),this._sensors.push(e));const t=new r.Positional9DOFSensor;await t.hasSensor()&&(console.log("has 9-axis positional sensors"),this._sensors.push(t));const a=new s.MicrophoneSensor;await a.hasSensor()&&(console.log("has microphone"),this._sensors.push(a));const l=new o.CameraSensor;await l.hasSensor()&&(console.log("has camera"),this._sensors.push(l));const d=(0,n.getAuth)();if("apiKey"===(null==d?void 0:d.auth)){this.switchView(this._views.loading),this._elements.loadingText.textContent="Connecting to Edge Impulse...";let e=await this.getProject(d);this._elements.projectName.textContent=e.name,this.switchView(this._views.connected),(0,n.storeApiKeyAndImpulseId)(d.apiKey,d.impulseId),window.history.replaceState(null,"",window.location.pathname),this._elements.startSampling.onclick=async t=>{let i;t.preventDefault();try{let t=await this.beforeSampling("Microphone");const r=(0,n.getSampleLength)(),s=1e3,o=(0,n.getFrequency)(),a=1;let h=r;this._elements.samplingRecordingStatus.textContent="Recording data",this._elements.samplingTimeLeft.textContent=Math.floor(h/1e3)+"s",i=setInterval((()=>{if(h-=1e3,h<0)return clearInterval(i);this._elements.samplingTimeLeft.textContent=Math.floor(h/1e3)+"s"}),1e3);const f=await t.takeSample({length:r,frequency:o,processing:()=>{}});console.log("done recording",f),clearInterval(i),this.switchView(this._views.loading),this._elements.loadingText.textContent="Finding keywords...";let p=this._findSegments.findSegments(f.values,s/1e3*o,o,!1);if(p.length<a)throw new Error("Expected to find at least "+a+" keywords, but only found "+p.length);this._elements.loadingText.textContent="Uploading "+p.length+" keywords... (0%)";let m=new c.Uploader(d.apiKey);console.log("segments",p);let g=0;for(let e of p){let i={intervalMs:f.intervalMs,sensors:f.sensors,values:f.values.slice(e.start,e.end)},r=(0,u.dataMessage)({apiKey:d.apiKey,device:{deviceId:(0,n.getDeviceId)(),sensors:[l].map((e=>{let t=e.getProperties();return{name:t.name,frequencies:t.frequencies,maxSampleLength:t.maxSampleLength}})),deviceType:"MOBILE_CLIENT"}},i);await m.uploadSample({sensor:t.getProperties().name,hmacKey:"0",interval:i.intervalMs,label:(0,n.getKeyword)(),length:i.values.length,path:"/api/"+await this.getCategoryFromValueArray(i.values)+"/data"},r,i),g++;let s=Math.round(g/p.length*100);this._elements.loadingText.textContent=`Uploading ${p.length} keywords... (${s}%)`}this._elements.uploadSucceededCount.textContent=g.toString(),this._elements.uploadSucceededProjectName.textContent=e.name,this.switchView(this._views.uploadSucceeded)}catch(e){alert("Failed to record data: "+e),this.switchView(this._views.connected)}finally{clearInterval(i)}}}else this.switchView(this._views.qrcode)}switchView(e){for(const e of Object.keys(this._views))this._views[e].style.display="none";e.style.display=""}async beforeSampling(e){let t=this._sensors.find((t=>t.getProperties().name===e));if(!t)throw new Error('Cannot find sensor with name "'+e+'"');if(this._elements.samplingRecordingSensor.textContent=t.getProperties().name.toLowerCase(),this._views.sampling.style.display="Camera"!==e?"initial":"none",await t.checkPermissions(!0)){if("Camera"===e)throw new Error("Sensor not supported: "+e);return this.switchView(this._views.sampling),this._elements.samplingRecordingStatus.textContent="Starting in 2 seconds",this._elements.samplingTimeLeft.textContent="Waiting...",await this.sleep(2e3),t}return this.switchView(this._views.permission),this._elements.grantPermissionsBtn.textContent="Give access to the "+t.getProperties().name,new Promise(((e,n)=>{let i=setTimeout((()=>{n("User did not grant permissions within one minute")}),6e4);this._elements.grantPermissionsBtn.onclick=()=>{if(!t)return n("Sensor is missing");t.checkPermissions(!0).then((async i=>{if(!t)return n("Sensor is missing");i?(this.switchView(this._views.sampling),this._elements.samplingRecordingStatus.textContent="Starting in 2 seconds",this._elements.samplingTimeLeft.textContent="Waiting...",await this.sleep(2e3),e(t)):n("User has rejected accelerometer permissions")})).catch(n),clearInterval(i)}}))}sleep(e){return new Promise((t=>setTimeout(t,e)))}async getProject(e){let t=new a.ClassificationLoader((0,n.getStudioEndpoint)(),e);return await t.getProject()}async getCategoryFromValueArray(e){let t=new Float32Array(e),n=await crypto.subtle.digest("SHA-256",t),i=Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("");for(;i.length>0&&"f"===i[0];)i=i.substr(1);if(0===i.length)throw new Error("Failed to calculate SHA256 hash of buffer");let r=i[0];return["0","1","2","3","4","5","6","7","8","9","a","b"].indexOf(r)>-1?"training":"testing"}}})),n("client/remote-mgmt",["require","exports","client/messages","client/utils","client/settings","client/typed-event-emitter","client/uploader"],(function(e,t,n,i,r,s,o){Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteManagementConnection=void 0;class a extends s.Emitter{constructor(e,t){super(),this._socketHeartbeat=-1,this.sendMessage=e=>{this._socket.send(JSON.stringify(e))},this._socket=new WebSocket((0,r.getRemoteManagementEndpoint)()),this._state={socketConnected:!1,remoteManagementConnected:!1,error:null,sample:null,isSampling:!1},this._settings=e,this._uploader=new o.Uploader(e.apiKey),this._socket.onopen=e=>{this._state.socketConnected=!0,this.sendMessage((0,n.helloMessage)(this._settings)),this._socketHeartbeat=window.setInterval((()=>{this._socket.send("ping")}),3e3)},this._socket.onmessage=async e=>{const r=await(0,i.parseMessage)(e);if(r){if(void 0!==r.err&&-1===r.err.indexOf("Failed to parse")&&this.emit("error",r.err),void 0!==r.hello){const e=r.hello;this._state.remoteManagementConnected=e.hello,this._state.error=e.error,this._state.error?this.emit("error",this._state.error):this.emit("connected")}if(void 0!==r.sample){const e=r.sample;if(!e||!e.hmacKey)return void this.sendMessage((0,n.sampleRequestFailed)("Message or hmacKey empty"));if(!t)return;try{this.sendMessage(n.sampleRequestReceived);let r=await t(e.sensor);this._state.sample=e,this._state.isSampling=!0,"Camera"!==e.sensor&&this.sendMessage(n.sampleStarted);const s={...e};this.emit("samplingStarted",e.length);const o=await r.takeSample({length:e.length,frequency:1e3/e.interval,processing:()=>{this.emit("samplingProcessing")}});try{this.emit("samplingUploading"),this.sendMessage(n.sampleUploading),await this._uploader.uploadSample(s,(0,n.dataMessage)(this._settings,o),o),this.sendMessage(n.sampleFinished),this.emit("samplingFinished")}catch(e){alert((0,i.getErrorMsg)(e))}finally{this._state.sample=e,this._state.isSampling=!1}}catch(e){this.emit("samplingFinished"),this.emit("samplingError",(0,i.getErrorMsg)(e)),this.sendMessage((0,n.sampleRequestFailed)((0,i.getErrorMsg)(e)))}}}},this._socket.onclose=e=>{clearInterval(this._socketHeartbeat);const t=e.wasClean?`[close] Connection closed cleanly, code=${e.code} reason=${e.reason}`:"[close] Connection died";this._state.socketConnected=!1,this._state.remoteManagementConnected=!1,this._state.error=t,this.emit("error",this._state.error)},this._socket.onerror=e=>{this._state.socketConnected=!1,this._state.remoteManagementConnected=!1,this._state.error=e,this.emit("error",this._state.error)}}readAsBinaryStringAsync(e){return new Promise(((t,n)=>{let i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=n,i.readAsBinaryString(e)}))}}t.RemoteManagementConnection=a})),n("client/collection-views",["require","exports","client/settings","client/remote-mgmt","client/sensors/accelerometer","client/sensors/microphone","client/sensors/camera","client/sensors/9axisIMU"],(function(e,t,n,i,r,s,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.DataCollectionClientViews=void 0,t.DataCollectionClientViews=class{constructor(){this._views={loading:document.querySelector("#loading-view"),qrcode:document.querySelector("#qrcode-view"),connected:document.querySelector("#remote-mgmt-connected"),connectionFailed:document.querySelector("#remote-mgmt-failed"),sampling:document.querySelector("#sampling-in-progress"),permission:document.querySelector("#permission-view"),capture:document.querySelector("#capture-camera")},this._elements={deviceId:document.querySelector("#connected-device-id"),connectionFailedMessage:document.querySelector("#connection-failed-message"),samplingTimeLeft:document.querySelector("#sampling-time-left"),samplingRecordingStatus:document.querySelector("#sampling-recording-data-message"),samplingRecordingSensor:document.querySelector("#sampling-recording-sensor"),grantPermissionsBtn:document.querySelector("#grant-permissions-button"),loadingText:document.querySelector("#loading-view-text")},this._sensors=[]}async init(){(0,n.storeDeviceId)((0,n.getDeviceId)());const e=new r.AccelerometerSensor;await e.hasSensor()&&(console.log("has accelerometer"),this._sensors.push(e));const t=new s.MicrophoneSensor;await t.hasSensor()&&(console.log("has microphone"),this._sensors.push(t));const l=new o.CameraSensor;await l.hasSensor()&&(console.log("has camera"),this._sensors.push(l));const c=new a.Positional9DOFSensor;await c.hasSensor()&&(console.log("has 9-axis positional sensors"),this._sensors.push(c));const u=(0,n.getAuth)();if("apiKey"===(null==u?void 0:u.auth)){this.switchView(this._views.loading),this._elements.loadingText.textContent="Connecting to Edge Impulse...";const e=new i.RemoteManagementConnection({apiKey:u.apiKey,device:{deviceId:(0,n.getDeviceId)(),sensors:this._sensors.map((e=>{let t=e.getProperties();return{name:t.name,frequencies:t.frequencies,maxSampleLength:t.maxSampleLength}})),deviceType:"MOBILE_CLIENT"}},this.beforeSampling.bind(this));let t;e.on("connected",(()=>{(0,n.storeApiKeyAndImpulseId)(u.apiKey,u.impulseId),window.history.replaceState(null,"",window.location.pathname),this._elements.deviceId.textContent=(0,n.getDeviceId)(),this.switchView(this._views.connected)})),e.on("error",(e=>{console.error("Connection failed",e),this._elements.connectionFailedMessage.textContent=e,this.switchView(this._views.connectionFailed)})),e.on("samplingStarted",(e=>{let n=e;this._elements.samplingRecordingStatus.textContent="Recording data",this._elements.samplingTimeLeft.textContent=Math.floor(n/1e3)+"s",t=setInterval((()=>{if(n-=1e3,n<0)return clearInterval(t);this._elements.samplingTimeLeft.textContent=Math.floor(n/1e3)+"s"}),1e3)})),e.on("samplingUploading",(()=>{clearInterval(t),this.switchView(this._views.loading),this._elements.loadingText.textContent="Uploading..."})),e.on("samplingProcessing",(()=>{clearInterval(t),this.switchView(this._views.loading),this._elements.loadingText.textContent="Processing..."})),e.on("samplingFinished",(()=>{this.switchView(this._views.connected)})),e.on("samplingError",(e=>{alert(e)}))}else this.switchView(this._views.qrcode)}switchView(e){for(const e of Object.keys(this._views))this._views[e].style.display="none";e.style.display=""}async beforeSampling(e){let t=this._sensors.find((t=>t.getProperties().name===e));if(!t)throw new Error('Cannot find sensor with name "'+e+'"');return this._elements.samplingRecordingSensor.textContent=t.getProperties().name.toLowerCase(),this._views.sampling.style.display="Camera"!==e?"initial":"none",await t.checkPermissions(!1)?("Camera"!==e?(this.switchView(this._views.sampling),this._elements.samplingRecordingStatus.textContent="Starting in 2 seconds",this._elements.samplingTimeLeft.textContent="Waiting...",await this.sleep(2e3)):this.switchView(this._views.capture),t):(this.switchView(this._views.permission),this._elements.grantPermissionsBtn.textContent="Give access to the "+t.getProperties().name,new Promise(((n,i)=>{let r=setTimeout((()=>{i("User did not grant permissions within one minute")}),6e4);this._elements.grantPermissionsBtn.onclick=()=>{if(!t)return i("Sensor is missing");t.checkPermissions(!0).then((async r=>{if(!t)return i("Sensor is missing");r?("Camera"!==e?(this.switchView(this._views.sampling),this._elements.samplingRecordingStatus.textContent="Starting in 2 seconds",this._elements.samplingTimeLeft.textContent="Waiting...",await this.sleep(2e3)):this.switchView(this._views.capture),n(t)):i("User has rejected accelerometer permissions")})).catch(i),clearInterval(r)}})))}sleep(e){return new Promise((t=>setTimeout(t,e)))}}})),n("client/time-series-collection-views",["require","exports","client/settings","client/uploader","client/classification-loader","client/messages","client/notify","client/sensors/microphone","client/sensors/accelerometer","client/utils"],(function(e,t,n,i,r,s,o,a,l,c){Object.defineProperty(t,"__esModule",{value:!0}),t.TimeSeriesDataCollectionClientViews=void 0,t.TimeSeriesDataCollectionClientViews=class{constructor(){this._views={loading:document.querySelector("#loading-view"),qrcode:document.querySelector("#qrcode-view"),connectionFailed:document.querySelector("#remote-mgmt-failed"),capture:document.querySelector("#capture-camera"),permission:document.querySelector("#permission-view")},this._elements={deviceId:document.querySelector("#connected-device-id"),connectionFailedMessage:document.querySelector("#connection-failed-message"),grantPermission:document.querySelector("#grant-permissions-button"),loadingText:document.querySelector("#loading-view-text"),recordButton:document.querySelector("#time-series-capture-button"),labelLink:document.querySelector("#time-series-label-link"),labelText:document.querySelector("#time-series-label-text"),lengthLink:document.querySelector("#time-series-length-link"),lengthText:document.querySelector("#time-series-length-text"),categoryLink:document.querySelector("#time-series-category-link"),categoryText:document.querySelector("#time-series-category-text"),categorySelect:document.querySelector("#time-series-category-select"),capturedCount:document.querySelector("#time-series-capture-count"),samplingCircle:document.querySelector("#sampling-circle"),progressCircle:document.querySelector("#sampling-circle .sampling-circle"),samplingTimeLeft:document.querySelector("#sampling-time-left")},this._sensors=[],this._numCaptures=0,this._hmacKey="0"}async init(e){var t,r,u,d,h,f,p;let m,g;console.log("init time-series-collection-views"),(0,n.storeDeviceId)((0,n.getDeviceId)()),this._activeSensor=e;let y=100;if("microphone"===e){const e=new a.MicrophoneSensor;if(!await e.hasSensor())return this._elements.connectionFailedMessage.textContent="No microphone detected",void this.switchView(this._views.connectionFailed);this._sensors.push(e),m="fa-microphone",g=e,y=16e3}else if("accelerometer"===e){const e=new l.AccelerometerSensor;if(!await e.hasSensor())return this._elements.connectionFailedMessage.textContent="No accelerometer detected",void this.switchView(this._views.connectionFailed);this._sensors.push(e),m="fa-wave-sine",g=e,y=62.5}console.log("targetFrequency",y),this._elements.categoryText.style.display="none",null===(t=this._elements.categoryText.parentNode)||void 0===t||t.insertBefore(this._elements.categorySelect,this._elements.categoryText);const v=this._auth=(0,n.getAuth)();if(v&&"apiKey"===v.auth){(0,n.storeApiKeyAndImpulseId)(v.apiKey,v.impulseId);const t=new URLSearchParams(window.location.search);t.delete("apiKey"),t.delete("studio"),t.delete("env"),window.history.replaceState(null,"",window.location.pathname+(t.toString().length>0)?`?${t.toString()}`:"");try{this.switchView(this._views.loading);let n=await this.getDevelopmentApiKeys(v);n.hmacKey&&(this._hmacKey=n.hmacKey);const s=null!==(u=null!==(r=t.get("sampleLength"))&&void 0!==r?r:localStorage.getItem(`last-${this._activeSensor}-length`))&&void 0!==u?u:"1",o={label:null!==(h=null!==(d=t.get("label"))&&void 0!==d?d:localStorage.getItem(`last-${this._activeSensor}-label`))&&void 0!==h?h:"unknown",length:isNaN(Number(s))?1:Number(s),category:null!==(p=null!==(f=t.get("category"))&&void 0!==f?f:localStorage.getItem(`last-${this._activeSensor}-category`))&&void 0!==p?p:"split"};-1===["training","testing","split"].indexOf(o.category)&&(o.category="split"),console.log("onStartState",o),this._elements.labelText.dataset.label=o.label,this._elements.labelText.textContent=""===o.label?"Unlabeled":o.label,this._elements.lengthText.textContent=o.length.toString(),this._elements.categoryText.textContent=o.category,this._elements.categorySelect.value=o.category,localStorage.setItem(`last-${this._activeSensor}-label`,o.label),localStorage.setItem(`last-${this._activeSensor}-length`,o.length.toString()),localStorage.setItem(`last-${this._activeSensor}-category`,o.category),this._uploader=new i.Uploader(v.apiKey),this._elements.grantPermission.textContent=`Give access to the ${e}`;let a=this._sensors.find((t=>t.getProperties().name.toLowerCase()===e));a&&await a.checkPermissions(!1)?(console.log("sensor checkPermissions OK"),this.grantPermission()):(this.switchView(this._views.permission),this._elements.grantPermission.onclick=e=>{this.grantPermission()})}catch(e){console.error("Failed to load",e),e instanceof Error&&(this._elements.connectionFailedMessage.textContent=e.message||e.toString()),this.switchView(this._views.connectionFailed)}}else this.switchView(this._views.qrcode);this._elements.recordButton.onclick=async e=>{if(e.preventDefault(),!this._uploader)return;let t,i=this._elements.recordButton.innerHTML;try{if(!this._auth||"apiKey"!==this._auth.auth)throw new Error("Not authenticated");this._elements.recordButton.innerHTML=`<i class="fas ${m} mr-2"></i>Waiting...`,this._elements.recordButton.classList.add("disabled"),this._elements.progressCircle.classList.remove("no-spin");let e=1e3*Number(this._elements.lengthText.textContent),i=e;this._elements.samplingTimeLeft.textContent="...",this._elements.samplingCircle.style.opacity="1",await this.sleep(500),this._elements.samplingTimeLeft.textContent=Math.floor(i/1e3)+"s",t=setInterval((()=>{if(i-=1e3,i<0)return clearInterval(t);this._elements.samplingTimeLeft.textContent=Math.floor(i/1e3)+"s"}),1e3),this._elements.recordButton.innerHTML=`<i class="fas ${m} mr-2"></i>Recording...`;let r=await g.takeSample({frequency:y,length:e});clearInterval(t),this._elements.samplingCircle.style.opacity="0",this._elements.recordButton.innerHTML=`<i class="fas ${m} mr-2"></i>Uploading...`,console.log("took sample");let a=this._elements.categoryText.textContent||"training";"split"===this._elements.categoryText.textContent&&(a=this._numCaptures>0?await this.getCategoryFromString(JSON.stringify(r.values)):"training"),this._numCaptures=this._numCaptures+e;let l={hmacKey:this._hmacKey,interval:0,label:""!==(this._elements.labelText.dataset.label||"")?this._elements.labelText.dataset.label:void 0,length:0,path:"/api/"+a+"/data",sensor:g.getProperties().name},u=(0,s.dataMessage)({apiKey:this._auth.apiKey,device:{deviceId:(0,n.getDeviceId)(),sensors:[g].map((e=>{let t=e.getProperties();return{name:t.name,frequencies:t.frequencies,maxSampleLength:t.maxSampleLength}})),deviceType:"MOBILE_CLIENT"}},r);console.log("details",l,"data",u,"sample",r),(async()=>{if(this._uploader)try{let e=await this._uploader.uploadSample(l,u,r);$.notifyClose(),o.Notify.notify("",'Uploaded "'+e+'" to '+a+" category","top","center","far fa-check-circle","success")}catch(e){$.notifyClose(),o.Notify.notify("Failed to upload",(0,c.getErrorMsg)(e),"top","center","far fa-times-circle","danger")}})();let d=Math.floor(this._numCaptures/1e3/60),h=this._numCaptures/1e3%60;this._elements.capturedCount.textContent=d>0?`${d}m${h}s`:`${h}s`}catch(e){alert("Failed to upload: "+(0,c.getErrorMsg)(e))}finally{this._elements.recordButton.innerHTML=i,this._elements.recordButton.classList.remove("disabled"),this._elements.progressCircle.classList.add("no-spin"),this._elements.samplingCircle.style.opacity="0",t&&clearInterval(t)}},this._elements.labelLink.onclick=async e=>{var t,n;e.preventDefault();const i=await o.Notify.prompt("Enter a label","","Set label",null!==(n=null!==(t=this._elements.labelText.dataset.label)&&void 0!==t?t:this._elements.labelText.textContent)&&void 0!==n?n:"","info","info");!1!==i&&(i&&this._elements.labelText.textContent!==i&&(this._numCaptures=0,this._elements.capturedCount.textContent="0s"),this._elements.labelText.textContent=i||"Unlabeled",this._elements.labelText.dataset.label=i,localStorage.setItem(`last-${this._activeSensor}-label`,i))},this._elements.lengthLink.onclick=async e=>{e.preventDefault();let t=await o.Notify.prompt("Set length in seconds","","Set length",this._elements.lengthText.textContent||"","info","info");t&&!isNaN(Number(t))&&(t&&this._elements.lengthText.textContent!==t&&(this._numCaptures=0,this._elements.capturedCount.textContent="0s"),this._elements.lengthText.textContent=t.toLowerCase(),localStorage.setItem(`last-${this._activeSensor}-length`,this._elements.lengthText.textContent))},this._elements.categorySelect.oninput=()=>{this._elements.categoryText.textContent!==this._elements.categorySelect.value&&(this._numCaptures=0,this._elements.capturedCount.textContent="0s"),this._elements.categoryText.textContent=this._elements.categorySelect.value,localStorage.setItem(`last-${this._activeSensor}-category`,this._elements.categorySelect.value)},this._elements.categoryLink.onclick=e=>{e.preventDefault(),console.log("category link click",e);let t,n=this._elements.categorySelect;t=document.createEvent("MouseEvents"),t.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}switchView(e){for(const e of Object.keys(this._views))this._views[e].style.display="none";e.style.display=""}grantPermission(){if(!this._activeSensor)return;let e=this._sensors.find((e=>e.getProperties().name.toLowerCase()===this._activeSensor));if(!e)return this._elements.connectionFailedMessage.textContent=`Could not find ${this._activeSensor}`,void this.switchView(this._views.connectionFailed);e.checkPermissions(!0).then((e=>{e?(this.switchView(this._views.capture),this._elements.labelText.textContent||this._elements.labelLink.click()):alert(`User has rejected ${this._activeSensor} permissions`)})).catch((e=>{console.error(e),this._elements.connectionFailedMessage.textContent=e,this.switchView(this._views.connectionFailed)}))}sleep(e){return new Promise((t=>setTimeout(t,e)))}async getDevelopmentApiKeys(e){const t=new r.ClassificationLoader((0,n.getStudioEndpoint)(),e);let i=await t.getProject();try{return await t.getDevelopmentKeys(i.id)}catch(e){return console.warn("Could not find development keys for project "+i,e),{apiKey:void 0,hmacKey:void 0}}}async getCategoryFromString(e){let t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),i=Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("");for(;i.length>0&&"f"===i[0];)i=i.substr(1);if(0===i.length)throw new Error("Failed to calculate SHA256 hash of buffer");let r=i[0];return["0","1","2","3","4","5","6","7","8","9","a","b"].indexOf(r)>-1?"training":"testing"}}})),n("client/init",["require","exports","client/collection-views","client/classification-views","client/settings","client/camera-collection-views","client/collection-keyword","client/time-series-collection-views"],(function(e,t,n,i,r,s,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=async e=>{if((0,r.storeIngestionApi)((0,r.getIngestionApi)()),(0,r.storeRemoteManagementEndpoint)((0,r.getRemoteManagementEndpoint)()),(0,r.storeStudioEndpoint)((0,r.getStudioEndpoint)()),"data-collection"===e){let e=new n.DataCollectionClientViews;await e.init(),window.client=e}else if("classifier"===e){let e=new i.ClassificationClientViews;await e.init(),window.client=e}else if("data-collection-camera"===e){let e=new s.CameraDataCollectionClientViews;await e.init(),window.client=e}else if("data-collection-microphone"===e){let e=new a.TimeSeriesDataCollectionClientViews;await e.init("microphone"),window.client=e}else if("data-collection-accelerometer"===e){let e=new a.TimeSeriesDataCollectionClientViews;await e.init("accelerometer"),window.client=e}else if("data-collection-keyword"===e){let e=new o.DataCollectionKeywordClientViews;await e.init(),window.client=e}console.log("Hello world from the Edge Impulse mobile client",e)}}))}},t={};!function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}(615)})();